import{i as nt,e as lt,r as o,j as e}from"./index-naE4N0eS.js";import{G as k}from"./GlassCard-TfWD9DED.js";import{i as ot}from"./utils-D55my28o.js";import{c as We}from"./createLucideIcon-QQk-iEav.js";import{B as ie}from"./bot-CLcqxJVL.js";import{P as I}from"./plus-BDrXDoAh.js";import{Z as B}from"./zap-QwVjJWNF.js";import{X as $e}from"./x-DBtRtTPR.js";import{L as rt}from"./link-BxAI0Rur.js";import{T as De}from"./trash-2-KEabNKne.js";import{I as it}from"./info-KnhG0WTC.js";import{S as ct}from"./square-pen-WAADn1gc.js";import{P as dt}from"./pause-CB2UGO6O.js";import{P as ce}from"./play-DIBjJMIh.js";import{C as mt}from"./copy-Ck1H3Czv.js";import{E as xt}from"./eye-Bkxn99yh.js";import{C as Ae}from"./calendar-DsSebvSd.js";import{T as de}from"./target-CzMhngSo.js";import{M as q}from"./message-square-DL2zHaeL.js";import{P as ut}from"./phone-BnUQXEyT.js";import{M as ht}from"./mail-CpeWFfR3.js";import{W as pt}from"./webhook-Bwxrg0NO.js";import{D as gt}from"./database-IvIcP2N4.js";import{C as Me}from"./clock-CRhFoa9k.js";import{G as ft}from"./globe-DZ7joG6x.js";import{S as bt}from"./settings-D4PN47yH.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=We("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=We("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]),Ft=()=>{var Se;const{agents:Q}=nt(),{user:V}=lt(),[Z,M]=o.useState("canvas"),[w,J]=o.useState(""),[T,_]=o.useState(""),[p,C]=o.useState([]),[F,$]=o.useState([]),[W,ee]=o.useState(null),[Pe,O]=o.useState(!1),[v,te]=o.useState({name:"",description:"",type:"custom"}),[x,me]=o.useState(null),[h,G]=o.useState(null),[xe,g]=o.useState(null),[c,P]=o.useState(1),[d,K]=o.useState({x:0,y:0}),[Y,X]=o.useState(!1),[ue,he]=o.useState({x:0,y:0}),[j,E]=o.useState(!1),[se,U]=o.useState(null),f=o.useRef(null),n=ot(V==null?void 0:V.email),pe=()=>{document.body.style.userSelect="",document.body.style.webkitUserSelect="",ee(null),E(!1),U(null)};o.useEffect(()=>()=>{pe()},[]),o.useEffect(()=>{const t=s=>{if(s.ctrlKey||s.metaKey)switch(s.key){case"=":case"+":s.preventDefault(),be();break;case"-":s.preventDefault(),ye();break;case"0":s.preventDefault(),je();break}};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[]);const ge=[{id:"booking-confirmed",name:"Booking Confirmed",description:"When a booking is successfully made",icon:Ae,color:"green",type:"predefined"},{id:"lead-qualified",name:"Lead Qualified",description:"When lead score reaches threshold",icon:de,color:"blue",type:"predefined"},{id:"keyword-detected",name:"Keyword Detected",description:"When specific phrase is mentioned",icon:q,color:"purple",type:"predefined"},{id:"call-ended",name:"Call Ended",description:"When conversation completes",icon:ut,color:"orange",type:"predefined"},{id:"high-intent",name:"High Purchase Intent",description:"When customer shows buying signals",icon:de,color:"emerald",type:"predefined"},{id:"negative-sentiment",name:"Negative Sentiment",description:"When customer expresses dissatisfaction",icon:Te,color:"red",type:"predefined"}],[Ye,Xe]=o.useState([{id:"payment-failed",name:"Payment Failed",description:"When payment processing fails",icon:Te,color:"red",type:"custom"}]),Ee=[...ge,...Ye],fe=[{id:"sms",name:"SMS",description:"Send text message",icon:q,color:"blue"},{id:"email",name:"Email",description:"Send email notification",icon:ht,color:"red"},{id:"webhook",name:"Webhook",description:"POST data to external URL",icon:pt,color:"purple"},{id:"calendar",name:"Calendar Event",description:"Create Google/Microsoft event",icon:Ae,color:"orange"},{id:"crm-update",name:"Update CRM",description:"Update customer record in CRM",icon:gt,color:"indigo"},{id:"whatsapp",name:"WhatsApp Message",description:"Send template message via WhatsApp",icon:q,color:"green",compliance:"Templates require approval"}],Ue=[{id:"time-window",name:"Time Window",icon:Me,description:"Execute only during specific hours",color:"blue"},{id:"region",name:"Region Check",icon:ft,description:"Based on caller location",color:"green"},{id:"language",name:"Language Match",icon:q,description:"Match conversation language",color:"purple"},{id:"intent-confidence",name:"Intent Confidence",icon:de,description:"Minimum confidence score",color:"orange"},{id:"call-duration",name:"Call Duration",icon:Me,description:"Based on call length",color:"indigo"},{id:"previous-interaction",name:"Previous Interaction",icon:ie,description:"Based on call history",color:"emerald"}],[R,L]=o.useState(n?[{id:"1",name:"Booking Confirmation Flow",agentId:"1",agentName:"Customer Support Bot",nodes:[{id:"trigger-1",type:"trigger",data:ge[0],position:{x:100,y:150}},{id:"action-1",type:"action",data:fe[0],position:{x:400,y:150}}],connections:[{id:"conn-1",from:"trigger-1",to:"action-1"}],status:"Active",runs:47,lastRun:"2 min ago",createdAt:new Date("2024-01-15")},{id:"2",name:"Lead Follow-up",agentId:"2",agentName:"Sales Assistant",nodes:[],connections:[],status:"Draft",runs:0,lastRun:"Never",createdAt:new Date("2024-01-20")}]:[]),Re=[{id:"canvas",label:"Canvas Builder",icon:B},{id:"workflows",label:"My Workflows",icon:bt},{id:"runs",label:"Execution Log",icon:ce}],ae=(t,s,a)=>{t.stopPropagation(),ee({...s,nodeType:a});const l=new Image;l.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",t.dataTransfer.setDragImage(l,0,0),t.dataTransfer.effectAllowed="copy",document.body.style.userSelect="none",document.body.style.webkitUserSelect="none"},ne=t=>{t.preventDefault(),t.stopPropagation(),pe()},Le=t=>{t.preventDefault(),t.stopPropagation(),t.dataTransfer.dropEffect="copy"},ze=t=>{if(t.preventDefault(),t.stopPropagation(),document.body.style.userSelect="",document.body.style.webkitUserSelect="",!W||!f.current)return;const s=f.current.getBoundingClientRect(),a=t.clientX-s.left,l=t.clientY-s.top,r=(a-d.x)/c,i=(l-d.y)/c,m={id:`${W.nodeType}-${Date.now()}`,type:W.nodeType,data:W,position:{x:Math.max(0,r-50),y:Math.max(0,i-50)}};C(u=>[...u,m]),ee(null),g(`✓ ${W.name} added!`),setTimeout(()=>g(null),1500)},le=(t,s)=>{if(!f.current)return;const a=100-d.x/c,l=100-d.y/c;let r=a+p.length%4*250,i=l+Math.floor(p.length/4)*150;const m={id:`${s}-${Date.now()}`,type:s,data:t,position:{x:r,y:i}};C(u=>[...u,m]),g(`✓ ${t.name} added to workflow!`),setTimeout(()=>g(null),1500)},be=()=>{P(t=>Math.min(t*1.2,3))},ye=()=>{P(t=>Math.max(t/1.2,.3))},je=()=>{P(1),K({x:0,y:0})},Ie=t=>{(t.button===1||t.button===0&&t.ctrlKey)&&(t.preventDefault(),X(!0),he({x:t.clientX,y:t.clientY}))},Be=t=>{if(Y){t.preventDefault();const s=t.clientX-ue.x,a=t.clientY-ue.y;K(l=>({x:l.x+s,y:l.y+a})),he({x:t.clientX,y:t.clientY})}},ve=()=>{X(!1)},qe=t=>{if(t.ctrlKey){t.preventDefault();const s=t.deltaY>0?.9:1.1;P(a=>Math.min(Math.max(a*s,.3),3))}},[D,oe]=o.useState(null),[Ze,Fe]=o.useState(1),[we,Ne]=o.useState({x:0,y:0}),ke=t=>{if(t.length<2)return 0;const s=t[0],a=t[1];return Math.sqrt(Math.pow(a.clientX-s.clientX,2)+Math.pow(a.clientY-s.clientY,2))},Oe=t=>{if(t.touches.length===1)X(!0),oe({x:t.touches[0].clientX,y:t.touches[0].clientY}),Ne(d);else if(t.touches.length===2){t.preventDefault();const s=ke(t.touches);oe({x:(t.touches[0].clientX+t.touches[1].clientX)/2,y:(t.touches[0].clientY+t.touches[1].clientY)/2,distance:s}),Fe(c),Ne(d),X(!1)}},Ge=t=>{if(D){if(t.touches.length===1&&!D.distance&&Y){t.preventDefault();const s=t.touches[0].clientX-D.x,a=t.touches[0].clientY-D.y;K({x:we.x+s,y:we.y+a})}else if(t.touches.length===2&&D.distance){t.preventDefault();const s=ke(t.touches),a=Math.max(.1,s/D.distance),l=Math.min(Math.max(Ze*a,.3),3);P(l);const r=(t.touches[0].clientX+t.touches[1].clientX)/2,i=(t.touches[0].clientY+t.touches[1].clientY)/2,m=l-c;if(f.current){const u=f.current.getBoundingClientRect(),b=r-u.left,y=i-u.top;K(N=>({x:N.x-b*m/l,y:N.y-y*m/l}))}}}},Ke=()=>{X(!1),oe(null)},He=t=>{if(h){if(h!==t)if(F.find(a=>a.from===h&&a.to===t))g("⚠ Connection already exists"),setTimeout(()=>g(null),1500);else{const a={id:`conn-${Date.now()}`,from:h,to:t};$(l=>[...l,a]),g("✓ Nodes connected!"),setTimeout(()=>g(null),1500)}G(null)}else G(t),g("Select target node to connect"),setTimeout(()=>{h===t&&g(null)},3e3)},Qe=t=>{C(s=>s.filter(a=>a.id!==t)),$(s=>s.filter(a=>a.from!==t&&a.to!==t))},Ce=(t,s)=>{C(a=>a.map(l=>l.id===t?{...l,position:s}:l))},Ve=()=>{if(!v.name.trim())return;const t={id:`custom-${Date.now()}`,name:v.name,description:v.description,icon:q,color:"indigo",type:"custom"};Xe(s=>[...s,t]),te({name:"",description:"",type:"custom"}),O(!1)},Je=()=>{if(!T.trim()){alert("Workflow name is required");return}if(!w){alert("Please select an agent for this workflow");return}if(p.length===0){alert("Please add at least one trigger or action to the workflow");return}const t=Q.find(a=>a.id===w),s={id:(x==null?void 0:x.id)||Date.now().toString(),name:T,agentId:w,agentName:(t==null?void 0:t.name)||"Unknown Agent",nodes:[...p],connections:[...F],status:"Draft",runs:(x==null?void 0:x.runs)||0,lastRun:(x==null?void 0:x.lastRun)||"Never",createdAt:(x==null?void 0:x.createdAt)||new Date};x?(L(a=>a.map(l=>l.id===x.id?s:l)),alert("Workflow updated successfully!")):(L(a=>[...a,s]),alert("Workflow created successfully!")),_(""),J(""),C([]),$([]),me(null)},_e=t=>{me(t),_(t.name),J(t.agentId),C([...t.nodes]),$([...t.connections]),M("canvas")},et=t=>{confirm("Are you sure you want to delete this workflow?")&&L(s=>s.filter(a=>a.id!==t))},tt=t=>{L(s=>s.map(a=>a.id===t?{...a,status:a.status==="Active"?"Paused":"Active"}:a))};return e.jsxs("div",{className:"space-y-4 sm:space-y-6 w-full ",children:[e.jsx("div",{className:"",children:e.jsx(k,{children:e.jsx("div",{className:"p-4 sm:p-6",children:e.jsx("div",{className:"flex space-x-1 common-bg-icons rounded-xl p-1 overflow-x-auto",children:Re.map(t=>e.jsxs("button",{onClick:()=>M(t.id),className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-2 rounded-lg transition-all duration-200 whitespace-nowrap ${Z===t.id?"common-button-bg2 shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 transition ease-in-out"}`,children:[e.jsx(t.icon,{className:"w-3 sm:w-4 h-3 sm:h-4"}),e.jsx("span",{className:"text-xs sm:text-sm",children:t.label})]},t.id))})})})}),Z==="canvas"&&e.jsxs("div",{className:" space-y-4 sm:space-y-6",children:[e.jsx(k,{children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-slate-800 dark:text-white mb-4 sm:mb-6",children:"Workflow Setup"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:["Workflow Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:T,onChange:t=>_(t.target.value),placeholder:"e.g., Lead Qualification Flow",disabled:!n,className:`w-full px-4 py-3 rounded-xl text-sm sm:text-base touch-manipulation ${n?"common-bg-icons":"bg-gray-100 dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-400 cursor-not-allowed"}`,required:!0}),!T.trim()&&e.jsx("p",{className:"text-xs text-red-500 mt-2",children:"Workflow name is required"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:["Assign to Agent ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:w,onChange:t=>J(t.target.value),disabled:!n,className:`w-full px-4 py-3 rounded-xl text-sm sm:text-base touch-manipulation ${n?"common-bg-icons":"bg-gray-100 dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-400 cursor-not-allowed"}`,style:{zIndex:50},required:!0,children:[e.jsx("option",{value:"",children:"Select an agent..."}),Q.map(t=>e.jsxs("option",{value:t.id,children:[t.name," (",t.status,")"]},t.id))]}),!w&&e.jsx("p",{className:"text-xs text-red-500 mt-2",children:"Agent selection is required"})]})]}),w&&e.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(ie,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-300",children:(Se=Q.find(t=>t.id===w))==null?void 0:Se.name}),e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"This workflow will be assigned to this agent"})]})]})})]})}),e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-12 gap-4 sm:gap-6",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsx(k,{className:"h-[400px] lg:h-[600px]",children:e.jsxs("div",{className:"p-3 sm:p-4 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-white",children:"Triggers"}),e.jsx("button",{onClick:()=>O(!0),disabled:!n,className:`p-2 rounded-lg transition-colors touch-manipulation ${n?"common-bg-icons hover:shadow-sm":"bg-gray-400 dark:bg-gray-600 text-gray-200 dark:text-gray-300 cursor-not-allowed opacity-50"}`,title:"Add Custom Trigger",children:e.jsx(I,{className:"w-4 h-4 text-slate-600 dark:text-slate-400"})})]}),e.jsx("div",{className:"flex-1 space-y-2 overflow-y-auto",children:Ee.map(t=>e.jsx("div",{draggable:n,onDragStart:s=>n&&ae(s,t,"trigger"),onDragEnd:ne,className:`common-bg-icons p-2.5 sm:p-3 rounded-lg transition-all duration-200 hover:shadow-md touch-manipulation select-none ${n?"cursor-move":"cursor-default opacity-50"}`,style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"common-bg-icons p-1.5 rounded-md flex-shrink-0",children:e.jsx(t.icon,{className:"w-3 h-3 sm:w-4 sm:h-4 text-slate-600 dark:text-slate-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-slate-800 dark:text-white text-xs sm:text-sm truncate",children:t.name}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:t.description})]}),e.jsx("button",{onClick:s=>{s.stopPropagation(),le(t,"trigger")},disabled:!n,className:`sm:hidden p-1 rounded-md transition-colors touch-manipulation flex-shrink-0 active:scale-95 min-w-[28px] min-h-[28px] ${n?"common-button-bg":"bg-gray-400 dark:bg-gray-600 text-gray-200 dark:text-gray-300 cursor-not-allowed opacity-50"}`,title:"Add to Canvas",children:e.jsx(I,{className:"w-3 h-3"})}),e.jsx("div",{className:"hidden sm:block flex-shrink-0",children:e.jsx(H,{className:"w-3 h-3 sm:w-4 sm:h-4 text-slate-400 dark:text-slate-500"})})]})},t.id))})]})})}),e.jsx("div",{className:"lg:col-span-6",children:e.jsx(k,{className:"h-[500px] lg:h-[600px] overflow-hidden relative",children:e.jsxs("div",{className:"p-3 sm:p-4 h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-3 sm:mb-4 gap-3 sm:gap-2",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-white",children:"Workflow Canvas"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{if(p.length===0){alert("Please add triggers and actions to test the workflow");return}alert("Workflow test initiated! Check the execution log for results.")},disabled:p.length===0||!n,className:`flex-1 sm:flex-none touch-manipulation disabled:opacity-50 disabled:cursor-not-allowed ${n?"common-button-bg2":"bg-gray-400 dark:bg-gray-600 text-gray-200 dark:text-gray-300 px-3 py-2 text-xs sm:text-sm rounded-lg"}`,children:"Test"}),e.jsx("button",{onClick:Je,disabled:!T.trim()||!w||p.length===0||!n,className:`flex-1 sm:flex-none touch-manipulation disabled:opacity-50 disabled:cursor-not-allowed ${n?"common-button-bg":"bg-gray-400 dark:bg-gray-600 text-gray-200 dark:text-gray-300 px-3 py-2 text-xs sm:text-sm rounded-lg"}`,children:x?"Update":"Save"})]})]}),xe&&e.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg text-sm font-medium animate-in slide-in-from-top-2",children:xe}),e.jsxs("div",{className:"absolute bottom-3 right-3 z-10 flex flex-col gap-1 bg-white/95 dark:bg-slate-800/95 backdrop-blur-sm rounded-xl border border-slate-200/50 dark:border-slate-700/50 shadow-xl p-2 sm:p-2",children:[e.jsx("button",{onClick:be,disabled:c>=3,className:"w-10 h-10 sm:w-9 sm:h-9 rounded-xl bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-800/40 transition-all flex items-center justify-center text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation active:scale-95 font-bold text-lg",title:"Zoom In",children:"+"}),e.jsx("button",{onClick:ye,disabled:c<=.3,className:"w-10 h-10 sm:w-9 sm:h-9 rounded-xl bg-orange-50 dark:bg-orange-900/20 hover:bg-orange-100 dark:hover:bg-orange-800/40 transition-all flex items-center justify-center text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation active:scale-95 font-bold text-lg",title:"Zoom Out",children:"−"}),e.jsx("div",{className:"w-full h-px bg-slate-200 dark:bg-slate-600 my-1"}),e.jsx("button",{onClick:je,className:"w-10 h-10 sm:w-9 sm:h-9 rounded-xl bg-slate-50 dark:bg-slate-800/20 hover:bg-slate-100 dark:hover:bg-slate-700/40 transition-all flex items-center justify-center text-slate-600 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300 text-xs font-bold touch-manipulation active:scale-95",title:"Reset View",children:"⌂"})]}),e.jsx("div",{ref:f,onDragOver:Le,onDrop:ze,onMouseDown:t=>{var s;!j&&!((s=t.target)!=null&&s.closest(".workflow-node"))&&Ie(t)},onMouseMove:t=>{j||Be(t)},onMouseUp:ve,onMouseLeave:ve,onWheel:qe,onTouchStart:t=>{var s;!j&&!((s=t.target)!=null&&s.closest(".workflow-node"))&&Oe(t)},onTouchMove:t=>{var s;!j&&!((s=t.target)!=null&&s.closest(".workflow-node"))&&Ge(t)},onTouchEnd:t=>{j||Ke()},className:`flex-1 relative rounded-xl border-2 border-dashed border-slate-300 dark:border-slate-600 overflow-hidden touch-none select-none ${Y||j?"cursor-grabbing":"cursor-grab"}`,style:{cursor:Y||j?"grabbing":"grab",background:`
                        radial-gradient(circle at 1px 1px, rgba(148, 163, 184, 0.15) 1px, transparent 0),
                        linear-gradient(to bottom, rgb(248, 250, 252), rgb(241, 245, 249))
                      `,backgroundSize:`${20*c}px ${20*c}px`,backgroundPosition:`${d.x}px ${d.y}px`,touchAction:"none",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},children:e.jsx("div",{className:"absolute inset-0 w-full h-full",style:{transform:`translate(${d.x}px, ${d.y}px) scale(${c})`,transformOrigin:"0 0",transition:Y?"none":"transform 0.1s ease-out"},children:p.length===0?e.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:e.jsxs("div",{className:"text-center text-slate-500 dark:text-slate-400 p-4",children:[e.jsx(B,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium mb-3",children:n?"Build Your Workflow":"Workflow Canvas"}),e.jsx("div",{className:"text-sm max-w-md mx-auto space-y-2",children:n?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"block sm:hidden",children:["Tap the ",e.jsx("span",{className:"inline-flex w-4 h-4 bg-blue-500 text-white rounded text-xs items-center justify-center mx-1",children:"+"})," buttons to add triggers and actions to your workflow."]}),e.jsx("p",{className:"hidden sm:block",children:"Drag triggers from the left and actions from the right to create your automation flow."}),e.jsxs("p",{className:"block mt-2",children:[e.jsx("span",{className:"block sm:hidden",children:"Touch nodes to connect them together."}),e.jsx("span",{className:"hidden sm:block",children:"Click nodes to connect them together."})]}),e.jsx("p",{className:"block sm:hidden text-xs text-slate-400 mt-3",children:"Use pinch gestures to zoom • Drag with one finger to pan"})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"This is where you'll build automated workflows for your agents."}),e.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Create agents first to start building automation flows"})]})})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"absolute pointer-events-none",style:{left:0,top:0,width:"100%",height:"100%",zIndex:1,transform:`translate(${d.x}px, ${d.y}px) scale(${c})`,transformOrigin:"0 0"},children:[e.jsx("defs",{children:e.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"6",refX:"9",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:e.jsx("path",{d:"M0,0 L0,6 L10,3 z",fill:"#3b82f6"})})}),F.map(t=>{const s=p.find(S=>S.id===t.from),a=p.find(S=>S.id===t.to);if(!s||!a)return null;const l=s.position.x+28,r=s.position.y+28,i=a.position.x+28,m=a.position.y+28,u=Math.abs(i-l),b=Math.min(u/2,80),y=l+b,N=r,A=i-b,z=m;return e.jsxs("g",{children:[e.jsx("path",{d:`M ${l} ${r} C ${y} ${N} ${A} ${z} ${i} ${m}`,stroke:"transparent",strokeWidth:"10",fill:"none",className:"cursor-pointer",onClick:()=>{n&&($(S=>S.filter(re=>re.id!==t.id)),g("✓ Connection deleted"),setTimeout(()=>g(null),1500))},style:{pointerEvents:"stroke"}}),e.jsx("path",{d:`M ${l} ${r} C ${y} ${N} ${A} ${z} ${i} ${m}`,stroke:"#3b82f6",strokeWidth:"2",strokeDasharray:"6,3",fill:"none",markerEnd:"url(#arrowhead)",className:"drop-shadow-sm pointer-events-none"}),e.jsx("circle",{cx:l+(i-l)*.3,cy:r+(m-r)*.3,r:"2",fill:"#3b82f6",className:"opacity-60"}),e.jsx("circle",{cx:l+(i-l)*.7,cy:r+(m-r)*.7,r:"2",fill:"#3b82f6",className:"opacity-60"})]},t.id)})]}),p.map(t=>e.jsx("div",{className:`workflow-node absolute select-none transition-all duration-200 ${h===t.id?"scale-110 z-20":j?"z-30":"hover:scale-105 z-10"} ${j?"cursor-grabbing":"cursor-grab"}`,style:{left:`${t.position.x}px`,top:`${t.position.y}px`,userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},onMouseDown:s=>{var a,l;if(s.button===0&&!((a=s.target)!=null&&a.closest("button"))){s.preventDefault(),s.stopPropagation(),E(!0),document.body.style.userSelect="none",document.body.style.webkitUserSelect="none";const r=(l=f.current)==null?void 0:l.getBoundingClientRect();if(!r)return;const i=(s.clientX-r.left-d.x)/c,m=(s.clientY-r.top-d.y)/c,u=i-t.position.x,b=m-t.position.y;U({x:u,y:b});const y=A=>{if(A.preventDefault(),!f.current)return;const z=f.current.getBoundingClientRect(),S=(A.clientX-z.left-d.x)/c,re=(A.clientY-z.top-d.y)/c,st=Math.max(0,S-u),at=Math.max(0,re-b);Ce(t.id,{x:st,y:at})},N=()=>{E(!1),U(null),document.body.style.userSelect="",document.body.style.webkitUserSelect="",document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",N)};document.addEventListener("mousemove",y),document.addEventListener("mouseup",N)}},onTouchStart:s=>{var a,l;if(!((a=s.target)!=null&&a.closest("button"))){s.preventDefault(),E(!0);const r=s.touches[0],i=(l=f.current)==null?void 0:l.getBoundingClientRect();if(!i)return;const m=(r.clientX-i.left-d.x)/c,u=(r.clientY-i.top-d.y)/c,b=m-t.position.x,y=u-t.position.y;U({x:b,y})}},onTouchMove:s=>{var a,l;if(j&&se&&!((a=s.target)!=null&&a.closest("button"))){s.preventDefault();const r=s.touches[0],i=(l=f.current)==null?void 0:l.getBoundingClientRect();if(!i)return;const m=(r.clientX-i.left-d.x)/c,u=(r.clientY-i.top-d.y)/c,b=Math.max(0,m-se.x),y=Math.max(0,u-se.y);Ce(t.id,{x:b,y})}},onTouchEnd:()=>{E(!1),U(null)},children:e.jsxs("div",{className:`relative ${h===t.id?"ring-4 ring-blue-500/30":""}`,children:[e.jsx("div",{className:`w-14 h-14 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br ${t.type==="trigger"?`from-${t.data.color}-400 to-${t.data.color}-600`:t.type==="action"?`from-${t.data.color}-400 to-${t.data.color}-600`:`from-${t.data.color}-400 to-${t.data.color}-600`} shadow-lg flex items-center justify-center border-2 border-white dark:border-slate-800 cursor-move touch-manipulation active:scale-95 transition-transform`,children:e.jsx(t.data.icon,{className:"w-6 h-6 sm:w-5 sm:h-5 text-white"})}),e.jsxs("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 bg-white dark:bg-slate-800 rounded-lg p-2 shadow-lg border border-slate-200 dark:border-slate-700 min-w-[120px] max-w-[160px]",children:[e.jsx("p",{className:"font-medium text-slate-800 dark:text-white text-xs text-center truncate",children:t.data.name}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center truncate",children:t.data.description}),e.jsx("div",{className:"flex justify-center mt-1",children:e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${t.type==="trigger"?"bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":t.type==="action"?"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300":"bg-purple-100 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300"}`,children:t.type})})]}),e.jsx("button",{onClick:s=>{s.stopPropagation(),Qe(t.id)},className:"absolute -top-2 -right-2 w-7 h-7 sm:w-6 sm:h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-all shadow-lg touch-manipulation active:scale-90",children:e.jsx($e,{className:"w-4 h-4 sm:w-3 sm:h-3"})}),e.jsx("button",{onClick:s=>{s.preventDefault(),s.stopPropagation(),He(t.id)},className:`absolute -bottom-2 -right-2 w-7 h-7 sm:w-6 sm:h-6 rounded-full flex items-center justify-center transition-all shadow-lg touch-manipulation active:scale-90 z-40 ${h===t.id?"bg-blue-500 text-white animate-pulse ring-4 ring-blue-500/30":h&&h!==t.id?"bg-green-500 text-white hover:bg-green-600 ring-2 ring-green-500/30":"bg-slate-300 dark:bg-slate-600 text-slate-600 dark:text-slate-300 hover:bg-blue-500 hover:text-white"}`,title:h===t.id?"Click to cancel connection":h?"Click to connect here":"Click to start connection",children:e.jsx(rt,{className:"w-4 h-4 sm:w-3 sm:h-3"})}),e.jsx("div",{className:"absolute -top-1 -left-1 w-5 h-5 bg-slate-400 text-white rounded-full flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity cursor-move",children:e.jsx(H,{className:"w-3 h-3"})})]})},t.id)),h&&e.jsx("div",{className:"absolute top-4 left-4 bg-blue-500 text-white px-3 py-2 rounded-lg text-sm shadow-lg z-30 animate-pulse",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-ping"}),"Click another node to connect"]})})]})})}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mt-4 pt-4 border-t border-slate-200 dark:border-slate-700 gap-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-xs sm:text-sm text-slate-600 dark:text-slate-400",children:[e.jsxs("span",{className:"common-bg-icons px-2 py-1 rounded",children:["Nodes: ",p.length]}),e.jsxs("span",{className:"common-bg-icons px-2 py-1 rounded",children:["Links: ",F.length]}),e.jsxs("span",{className:"common-bg-icons px-2 py-1 rounded",children:["Zoom: ",Math.round(c*100),"%"]}),e.jsx("span",{className:"hidden sm:inline text-xs common-bg-icons px-2 py-1 rounded",children:"Ctrl+/-: zoom • Ctrl+0: reset • Middle-click: pan"}),e.jsx("span",{className:"sm:hidden text-xs common-bg-icons px-2 py-1 rounded",children:"Pinch: zoom • Drag: pan"})]}),e.jsxs("div",{className:"flex gap-2",children:[h&&e.jsx("button",{type:"button",onClick:()=>G(null),className:"common-button-bg2 px-3 py-2 text-sm rounded-lg touch-manipulation",children:"Cancel Connect"}),e.jsxs("button",{type:"button",onClick:()=>{C([]),$([]),G(null)},className:"common-button-bg2 flex items-center gap-1 px-3 py-2 text-sm rounded-lg touch-manipulation hover:text-red-500",children:[e.jsx(De,{className:"w-3 h-3"}),e.jsx("span",{className:"hidden sm:inline",children:"Clear All"}),e.jsx("span",{className:"sm:hidden",children:"Clear"})]})]})]})]})})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx(k,{className:"h-[400px] lg:h-[600px]",children:e.jsxs("div",{className:"p-3 sm:p-4 h-full flex flex-col",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-white mb-3 sm:mb-4",children:"Actions"}),e.jsx("div",{className:"flex-1 space-y-2 overflow-y-auto",children:fe.map(t=>e.jsx("div",{draggable:n,onDragStart:s=>n&&ae(s,t,"action"),onDragEnd:ne,className:`common-bg-icons p-2.5 sm:p-3 rounded-lg transition-all duration-200 hover:shadow-md touch-manipulation select-none ${n?"cursor-move":"cursor-default opacity-50"}`,style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},children:e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[e.jsx("div",{className:"common-bg-icons p-1.5 rounded-md flex-shrink-0",children:e.jsx(t.icon,{className:"w-3 h-3 sm:w-4 sm:h-4 text-slate-600 dark:text-slate-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-slate-800 dark:text-white text-xs sm:text-sm truncate",children:t.name}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:t.description}),t.compliance&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(it,{className:"w-3 h-3 text-yellow-500 flex-shrink-0"}),e.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 truncate",children:t.compliance})]})]}),e.jsx("button",{onClick:s=>{s.stopPropagation(),le(t,"action")},disabled:!n,className:`sm:hidden p-1 rounded-md transition-colors touch-manipulation flex-shrink-0 self-start mt-0.5 active:scale-95 min-w-[28px] min-h-[28px] ${n?"common-button-bg":"bg-gray-400 text-gray-200 cursor-not-allowed opacity-50"}`,title:"Add to Canvas",children:e.jsx(I,{className:"w-3 h-3"})}),e.jsx("div",{className:"hidden sm:block flex-shrink-0 self-start mt-0.5",children:e.jsx(H,{className:"w-3 h-3 sm:w-4 sm:h-4 text-slate-400 dark:text-slate-500"})})]})},t.id))})]})})})]}),e.jsx(k,{children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-white mb-3 sm:mb-4",children:"Add Conditions (Optional)"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4 sm:mb-6",children:"Add conditions to control when your workflow executes. Drag conditions to the canvas to create conditional logic."}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:Ue.map(t=>e.jsxs("div",{draggable:n,onDragStart:s=>n&&ae(s,t,"condition"),onDragEnd:ne,className:`common-bg-icons p-3 sm:p-4 rounded-xl transition-all duration-200 hover:shadow-lg touch-manipulation select-none ${n?"cursor-move":"cursor-default opacity-50"}`,style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2",children:[e.jsx("div",{className:"common-bg-icons p-1.5 sm:p-2 rounded-lg flex-shrink-0",children:e.jsx(t.icon,{className:"w-4 h-4 sm:w-5 sm:h-5 text-slate-600 dark:text-slate-400"})}),e.jsx("span",{className:"font-medium text-slate-800 dark:text-white text-sm sm:text-base flex-1 min-w-0 truncate",children:t.name}),e.jsx("button",{onClick:s=>{s.stopPropagation(),le(t,"condition")},disabled:!n,className:`sm:hidden p-1 rounded-md transition-colors touch-manipulation flex-shrink-0 active:scale-95 min-w-[28px] min-h-[28px] ${n?"common-button-bg":"bg-gray-400 text-gray-200 cursor-not-allowed opacity-50"}`,title:"Add to Canvas",children:e.jsx(I,{className:"w-3 h-3"})}),e.jsx("div",{className:"hidden sm:block flex-shrink-0",children:e.jsx(H,{className:"w-4 h-4 sm:w-5 sm:h-5 text-slate-400 dark:text-slate-500"})})]}),e.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400",children:t.description})]},t.id))})]})})]}),Z==="workflows"&&e.jsx("div",{className:"",children:e.jsx(k,{children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 sm:mb-6 gap-3",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-white",children:"My Workflows"}),e.jsxs("button",{onClick:()=>M("canvas"),disabled:!n,className:`flex items-center justify-center gap-2 touch-manipulation ${n?"common-button-bg":"bg-gray-400 dark:bg-gray-600 text-gray-200 dark:text-gray-300 cursor-not-allowed opacity-50 px-4 py-2.5 rounded-lg"}`,children:[e.jsx(I,{className:"w-4 h-4"}),"New Workflow"]})]}),e.jsxs("div",{className:"space-y-4",children:[R.map(t=>e.jsxs("div",{className:"common-bg-icons flex flex-col sm:flex-row sm:items-center justify-between p-4 sm:p-6 rounded-xl hover:shadow-md transition-all gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1 min-w-0",children:[e.jsx("div",{className:"common-bg-icons w-10 h-10 sm:w-12 sm:h-12 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(B,{className:"w-5 h-5 sm:w-6 sm:h-6 text-slate-600 dark:text-slate-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white text-base sm:text-lg truncate",children:t.name}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4 text-xs sm:text-sm text-slate-500 dark:text-slate-400 mt-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ie,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:t.agentName})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[e.jsx("span",{children:"•"}),e.jsxs("span",{children:[t.nodes.length," nodes"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[t.runs," runs"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:["Last: ",t.lastRun]})]}),e.jsxs("div",{className:"flex sm:hidden items-center gap-2 text-xs",children:[e.jsxs("span",{children:[t.nodes.length," nodes"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[t.runs," runs"]})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[e.jsx("span",{className:`inline-flex w-fit px-3 py-1 rounded-full text-xs sm:text-sm font-medium ${t.status==="Active"||t.status==="Paused","common-bg-icons text-slate-700 dark:text-slate-300"}`,children:t.status}),e.jsxs("div",{className:"flex gap-1 sm:gap-2",children:[e.jsx("button",{onClick:()=>_e(t),disabled:!n,className:`p-2 transition-colors touch-manipulation ${n?"text-slate-400 hover:text-blue-500":"text-gray-300 cursor-not-allowed opacity-50"}`,title:"Edit Workflow",children:e.jsx(ct,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsx("button",{onClick:()=>tt(t.id),disabled:!n,className:`p-2 transition-colors touch-manipulation ${n?"text-slate-400 hover:text-yellow-500":"text-gray-300 cursor-not-allowed opacity-50"}`,title:t.status==="Active"?"Pause Workflow":"Activate Workflow",children:t.status==="Active"?e.jsx(dt,{className:"w-4 h-4 sm:w-5 sm:h-5"}):e.jsx(ce,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsx("button",{onClick:()=>{const s={...t,id:Date.now().toString(),name:`${t.name} (Copy)`,status:"Draft",runs:0,lastRun:"Never",createdAt:new Date};L(a=>[...a,s])},disabled:!n,className:`p-2 transition-colors touch-manipulation ${n?"text-slate-400 hover:text-green-500":"text-gray-300 cursor-not-allowed opacity-50"}`,title:"Duplicate Workflow",children:e.jsx(mt,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsx("button",{onClick:()=>et(t.id),disabled:!n,className:`p-2 transition-colors touch-manipulation ${n?"text-slate-400 hover:text-red-500":"text-gray-300 cursor-not-allowed opacity-50"}`,title:"Delete Workflow",children:e.jsx(De,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]})]},t.id)),R.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx(B,{className:"w-20 h-20 text-slate-300 dark:text-slate-600 mx-auto mb-6"}),e.jsx("h3",{className:"text-xl font-medium text-slate-600 dark:text-slate-400 mb-3",children:n?"No workflows yet":"No Workflows Available"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-500 mb-8 max-w-md mx-auto",children:n?"Create your first workflow to automate agent actions and improve customer experience":"Workflows will appear here once you create agents and set up automation flows"}),e.jsx("button",{onClick:()=>M("canvas"),disabled:!n,className:`${n?"common-button-bg rounded-xl px-8 py-3":"bg-gray-400 dark:bg-gray-600 text-gray-200 dark:text-gray-300 cursor-not-allowed opacity-50 px-8 py-3 rounded-xl"}`,children:"Create Your First Workflow"})]})]})]})})}),Z==="runs"&&e.jsx(k,{children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-slate-800 dark:text-white",children:"Workflow Execution Log"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[e.jsxs("select",{disabled:!n,className:`px-3 sm:px-4 py-2 rounded-lg text-sm min-w-0 touch-manipulation ${n?"common-bg-icons":"bg-gray-100 dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-400 cursor-not-allowed"}`,style:{zIndex:50},children:[e.jsx("option",{value:"all",children:"All Workflows"}),R.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx("button",{disabled:!n,className:`px-3 sm:px-4 py-2 rounded-lg transition-colors text-sm touch-manipulation ${n?"common-button-bg":"bg-gray-400 text-gray-200 cursor-not-allowed opacity-50"}`,children:"Refresh"})]})]}),e.jsx("div",{className:"space-y-3 sm:space-y-4",children:R.length>0?R.map(t=>e.jsx("div",{className:"common-bg-icons p-4 sm:p-6 rounded-xl",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-start sm:items-center gap-3 sm:gap-4 flex-1 min-w-0",children:[e.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-lg flex items-center justify-center flex-shrink-0 ${t.runs>0?"bg-gradient-to-br from-blue-500 to-purple-600":"common-bg-icons"}`,children:e.jsx(B,{className:`w-5 h-5 sm:w-6 sm:h-6 ${t.runs>0?"text-white":"text-slate-600 dark:text-slate-400"}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white text-base sm:text-lg truncate",children:t.name}),e.jsxs("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400 leading-relaxed",children:[e.jsx("span",{className:"block sm:inline",children:t.agentName}),e.jsx("span",{className:"hidden sm:inline",children:" • "}),e.jsx("span",{className:"block sm:inline",children:t.runs>0?`${t.runs} total runs`:"No executions yet"}),e.jsx("span",{className:"hidden sm:inline",children:" • "}),e.jsxs("span",{className:"block sm:inline",children:["Last: ",t.lastRun]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-3",children:[e.jsx("span",{className:`inline-flex px-2.5 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium ${t.status==="Active"?"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400":t.status==="Paused"?"bg-orange-100 text-orange-700 dark:bg-orange-900/20 dark:text-orange-400":"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300"}`,children:t.status}),e.jsx("button",{disabled:!n,className:`p-2 transition-colors touch-manipulation ${n?"text-slate-400 hover:text-blue-500":"text-gray-300 cursor-not-allowed opacity-50"}`,title:"View Details",children:e.jsx(xt,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]})},t.id)):e.jsxs("div",{className:"text-center py-12 sm:py-16",children:[e.jsx(ce,{className:"w-16 h-16 sm:w-20 sm:h-20 text-slate-300 dark:text-slate-600 mx-auto mb-4 sm:mb-6"}),e.jsx("h3",{className:"text-lg sm:text-xl font-medium text-slate-600 dark:text-slate-400 mb-2 sm:mb-3",children:"No workflows created yet"}),e.jsx("p",{className:"text-sm sm:text-base text-slate-500 dark:text-slate-500 mb-4 sm:mb-6",children:"Create your first workflow to start automating your AI agent tasks"}),e.jsx("button",{onClick:()=>M("canvas"),disabled:!n,className:`${n?"common-button-bg":"bg-gray-400 dark:bg-gray-600 text-gray-200 dark:text-gray-300 cursor-not-allowed opacity-50 px-6 py-3 rounded-lg"}`,children:"Create Workflow"})]})})]})}),Pe&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[99999] p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Create Custom Trigger"}),e.jsx("button",{onClick:()=>O(!1),className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:e.jsx($e,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Trigger Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:v.name,onChange:t=>te({...v,name:t.target.value}),placeholder:"e.g., High Priority Request",className:"common-bg-icons w-full px-3 py-2 rounded-lg",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:v.description,onChange:t=>te({...v,description:t.target.value}),placeholder:"Describe when this trigger should activate",rows:3,className:"common-bg-icons w-full px-3 py-2 rounded-lg resize-none",required:!0})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>O(!1),className:"common-button-bg2 flex-1 py-2 rounded-lg",children:"Cancel"}),e.jsx("button",{onClick:Ve,disabled:!v.name.trim()||!v.description.trim(),className:"common-button-bg flex-1 py-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Create"})]})]})]})})]})};export{Ft as default};
