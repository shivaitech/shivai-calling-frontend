import{r as e,j as t,R as s,k as a,u as n,f as r,i as l,e as i,l as o}from"./index-3DUAkcPV.js";import{G as d}from"./GlassCard-GLNSVgp_.js";import{S as c}from"./SearchableSelect-pOYwSa42.js";import{c as m}from"./createLucideIcon-DFaBMsJU.js";import{R as x,S as h}from"./shield-DfkolPJ7.js";import{S as u}from"./save-Cm6nDHpT.js";import{S as g,M as p,F as f}from"./smartphone-BXCzoY4m.js";import{C as b}from"./copy-Dk4G50eV.js";import{X as v}from"./x-BusFme87.js";import{i as j}from"./utils-BKnzRP6k.js";import{P as w}from"./plus-DS9PhQNu.js";import{S as y}from"./search-BdIKtFIf.js";import{B as k}from"./bot-BNX8EWBx.js";import{E as N}from"./eye-CFQPYc55.js";import{S as C}from"./square-pen-C68hMnj7.js";import{Z as S}from"./zap-CGVBlXay.js";import{P as E}from"./pause-CFt_Bymd.js";import{P as L}from"./play-E7PCsGLP.js";import{T as P}from"./trash-2-DFP4NvDx.js";import{A}from"./arrow-left-__IaK9Kd.js";import{G as T}from"./globe-Dg2mtFb4.js";import{M}from"./message-square-DdwzDlN9.js";import{C as D}from"./check-circle-DECnmykw.js";import{C as I}from"./clock-Bx8dJB_n.js";import{U as R}from"./users-B7Zc3hex.js";import{S as B}from"./settings-Bqw8U8VR.js";import{L as _}from"./lightbulb-C2WDpGgF.js";import{D as O}from"./download-CUsuj5so.js";import{P as $}from"./phone-BMGOnCDw.js";import{M as U}from"./mic-C5WtyY9e.js";import{I as F}from"./info-Bukfl50_.js";import"./chevron-down-BIkhTIMe.js";import"./check-q8EWdqS2.js";
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=m("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),H=m("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]),K=m("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),G=m("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),W=m("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),J=({content:s,children:a,position:n="top",className:r=""})=>{const[l,i]=e.useState(!1);return t.jsxs("div",{className:`relative inline-block ${r}`,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[a,l&&t.jsx("div",{className:`absolute z-[999999] ${{top:"bottom-full left-1/2 transform -translate-x-1/2 mb-2",bottom:"top-full left-1/2 transform -translate-x-1/2 mt-2",left:"right-full top-1/2 transform -translate-y-1/2 mr-2",right:"left-full top-1/2 transform -translate-y-1/2 ml-2"}[n]} pointer-events-none`,children:t.jsxs("div",{className:"bg-slate-800 dark:bg-slate-200 text-white dark:text-slate-800 text-sm px-4 py-3 rounded-lg shadow-2xl max-w-sm whitespace-normal leading-relaxed border border-slate-700 dark:border-slate-300",children:[s,t.jsx("div",{className:`absolute w-0 h-0 border-[6px] ${{top:"top-full left-1/2 transform -translate-x-1/2 border-l-transparent border-r-transparent border-b-transparent border-t-slate-800 dark:border-t-slate-200",bottom:"bottom-full left-1/2 transform -translate-x-1/2 border-l-transparent border-r-transparent border-t-transparent border-b-slate-800 dark:border-b-slate-200",left:"left-full top-1/2 transform -translate-y-1/2 border-t-transparent border-b-transparent border-r-transparent border-l-slate-800 dark:border-l-slate-200",right:"right-full top-1/2 transform -translate-y-1/2 border-t-transparent border-b-transparent border-l-transparent border-r-slate-800 dark:border-r-slate-200"}[n]}`})]})})]})},q=({agentId:s,agentName:a,isPublished:n=!1})=>{const[r,l]=e.useState("configure"),[i,o]=e.useState("mobile"),[c,m]=e.useState(!1),[h,f]=e.useState(!1),[b,v]=e.useState(null),[j,w]=e.useState(!1),[y,k]=e.useState(""),[N,C]=e.useState(0),S=e.useRef(null),E=e.useRef(null),L=[{id:"original",name:"Original Default",primaryColor:"#4b5563",secondaryColor:"#6b7280",accentColor:"#374151",gradient:"linear-gradient(135deg, #4b5563 0%, #6b7280 30%, #374151 70%, #1f2937 100%)"},{id:"default",name:"ShivAI Blue",primaryColor:"#3b82f6",secondaryColor:"#1e40af",accentColor:"#2563eb",gradient:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)"},{id:"ocean",name:"Ocean Breeze",primaryColor:"#0ea5e9",secondaryColor:"#0284c7",accentColor:"#0369a1",gradient:"linear-gradient(135deg, #0ea5e9 0%, #0369a1 100%)"},{id:"sunset",name:"Sunset Glow",primaryColor:"#f97316",secondaryColor:"#ea580c",accentColor:"#dc2626",gradient:"linear-gradient(135deg, #f97316 0%, #dc2626 100%)"},{id:"forest",name:"Forest Green",primaryColor:"#22c55e",secondaryColor:"#16a34a",accentColor:"#15803d",gradient:"linear-gradient(135deg, #22c55e 0%, #15803d 100%)"},{id:"purple",name:"Purple Dream",primaryColor:"#a855f7",secondaryColor:"#9333ea",accentColor:"#7c3aed",gradient:"linear-gradient(135deg, #a855f7 0%, #7c3aed 100%)"},{id:"teal",name:"Teal Wave",primaryColor:"#14b8a6",secondaryColor:"#0d9488",accentColor:"#0f766e",gradient:"linear-gradient(135deg, #14b8a6 0%, #0f766e 100%)"},{id:"rose",name:"Rose Garden",primaryColor:"#f43f5e",secondaryColor:"#e11d48",accentColor:"#be123c",gradient:"linear-gradient(135deg, #f43f5e 0%, #be123c 100%)"},{id:"gradient1",name:"Cosmic Fusion",primaryColor:"#6366f1",secondaryColor:"#8b5cf6",accentColor:"#a855f7",gradient:"linear-gradient(135deg, #6366f1 0%, #a855f7 100%)"},{id:"gradient2",name:"Warm Citrus",primaryColor:"#fbbf24",secondaryColor:"#f59e0b",accentColor:"#d97706",gradient:"linear-gradient(135deg, #fbbf24 0%, #d97706 100%)"},{id:"gradient3",name:"Cool Mint",primaryColor:"#34d399",secondaryColor:"#10b981",accentColor:"#059669",gradient:"linear-gradient(135deg, #34d399 0%, #059669 100%)"}],P=e=>{const t={...A,theme:{...A.theme,primaryColor:e.primaryColor,secondaryColor:e.secondaryColor,accentColor:e.accentColor}};T(t),w(!0);const a=new CustomEvent("widgetConfigUpdated",{detail:{agentId:s,config:t}});window.dispatchEvent(a),setTimeout(()=>{C(e=>e+1)},50)};e.useEffect(()=>{n||"install"!==r&&"advanced"!==r||l("preview")},[n,r]);const[A,T]=e.useState({theme:{primaryColor:"#4b5563",secondaryColor:"#6b7280",accentColor:"#374151",borderRadius:"16px",buttonStyle:"floating",widgetStyle:"modern"},ui:{position:"bottom-right",buttonSize:"medium",chatHeight:"320px",chatWidth:"380px",autoOpen:!1,minimizeButton:!0,draggable:!0},content:{welcomeMessage:`Hi! I'm ${a}. How can I help you today?`,companyName:a,companyDescription:"AI-Powered Support - We offer 24/7 voice support to handle your business calls effieciently and professionally.",companyLogo:"",placeholderText:"Type your message...",offlineMessage:"We're currently offline. Please leave a message."},features:{voiceEnabled:!0,soundEffects:!0,showBranding:!0,messageHistory:!0,typingIndicator:!0,fileUpload:!1},customCSS:""});e.useEffect(()=>{T(e=>({...e,content:{...e.content,welcomeMessage:`Hi! I'm ${a}. How can I help you today?`,companyName:a}}))},[a]),e.useEffect(()=>((async()=>{f(!0);try{const e=await fetch(`/api/agents/${s}/widget-config`);if(e.ok){const t=await e.json();T(t),v(new Date(t.updatedAt||Date.now()))}}catch(e){}finally{f(!1)}})(),()=>{E.current&&clearTimeout(E.current)}),[s]);const M=async()=>{try{const e=await D();if(!(await fetch("/api/widget/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({agentId:s,widgetCode:e,config:A})})).ok)throw new Error("Failed to update widget.js")}catch(e){}},D=async()=>{const e=await fetch("/widget.js");let t=await e.text();return t=t.replace(/background: linear-gradient\(135deg, #4b5563 0%, #6b7280 30%, #374151 70%, #1f2937 100%\)/g,`background: linear-gradient(135deg, ${A.theme.primaryColor} 0%, ${A.theme.accentColor} 100%)`),t=t.replace(/bottom: 20px;\s*right: 20px;/g,`${A.ui.position.includes("bottom")?"bottom":"top"}: 20px; ${A.ui.position.includes("right")?"right":"left"}: 20px;`),t=t.replace(/"ShivAI Employee"/g,`"${A.content.companyName}"`),t=t.replace(/"AI-Powered Support"/g,`"${A.content.companyDescription}"`),A.customCSS&&(t=t.replace("// Custom styles will be inserted here",A.customCSS)),t},I=(e,t,a)=>{const n={...A,[e]:{...A[e],[t]:a}};T(n),w(!0);const r=new CustomEvent("widgetConfigUpdated",{detail:{agentId:s,config:n}});window.dispatchEvent(r),E.current&&clearTimeout(E.current),E.current=window.setTimeout(()=>{C(e=>e+1)},500)};return t.jsx(d,{children:t.jsxs("div",{className:"p-4 sm:p-6",children:[h&&t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Loading widget configuration..."})]}),!h&&t.jsxs(t.Fragment,{children:[t.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-slate-800 dark:text-white mb-4 flex items-center gap-3",children:[t.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[t.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-slate-50 dark:bg-slate-800 rounded-lg flex items-center justify-center",children:t.jsx(W,{className:"w-3 h-3 text-slate-600 dark:text-slate-400"})}),t.jsx("h3",{className:"text-xs sm:text-sm font-semibold text-slate-800 dark:text-white",children:"Widget Customization"})]}),j&&t.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400 px-2 py-1 rounded-full",children:"Unsaved changes"}),b&&t.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Last saved: ",b.toLocaleTimeString()]})]}),t.jsxs("div",{className:"flex gap-2 mb-6 border-b border-slate-200 dark:border-slate-700",children:[t.jsx("button",{onClick:()=>l("configure"),className:"px-4 py-2 text-sm font-medium transition-colors "+("configure"===r?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400":"text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200"),children:"Configure"}),t.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[t.jsx("button",{onClick:()=>C(e=>e+1),disabled:"preview"!==r,className:"p-2 text-slate-600 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 disabled:opacity-50 transition-colors",title:"Refresh Preview",children:t.jsx(x,{className:"w-4 h-4"})}),t.jsx("button",{onClick:async()=>{m(!0);try{const e=await fetch(`/api/agents/${s}/widget-config`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({agentId:s,config:A,timestamp:(new Date).toISOString()})});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);await e.json(),v(new Date),w(!1),await M(),C(e=>e+1);const t=new CustomEvent("widgetConfigUpdated",{detail:{agentId:s,config:A}});window.dispatchEvent(t);const a=document.createElement("div");a.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 transition-all",a.textContent="Widget configuration saved!",document.body.appendChild(a),setTimeout(()=>{a.remove()},3e3)}catch(e){alert("Failed to save widget configuration. Please try again.")}finally{m(!1)}},disabled:c||!j,className:"common-button-bg text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:c?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(u,{className:"w-4 h-4"}),"Save Changes"]})})]})]}),"configure"===r&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-3",children:"Company Branding"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-2",children:"Company Logo"}),t.jsxs("div",{className:"relative group w-32 h-32",children:[t.jsx("input",{type:"file",id:"logo-upload",accept:"image/*",onChange:e=>{var t;const s=null==(t=e.target.files)?void 0:t[0];if(s){const e=new FileReader;e.onloadend=()=>{const t=e.result;k(t),I("content","companyLogo",t)},e.readAsDataURL(s)}},className:"hidden"}),t.jsx("div",{className:"relative w-full h-full bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-800 dark:to-slate-700 rounded-xl border-2 border-dashed border-slate-300 dark:border-slate-600 overflow-hidden",children:y||A.content.companyLogo?t.jsxs(t.Fragment,{children:[t.jsx("label",{htmlFor:"logo-upload",className:"cursor-pointer block w-full h-full",children:t.jsx("img",{src:y||A.content.companyLogo,alt:"Company Logo",className:"w-full h-full object-contain p-3"})}),t.jsx("button",{onClick:e=>{e.stopPropagation(),k(""),I("content","companyLogo","")},className:"absolute top-2 left-2 p-1.5 bg-red-500 hover:bg-red-600 text-white rounded-full shadow-lg transition-all duration-200 hover:scale-110 z-10",title:"Remove logo",children:t.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})})})]}):t.jsxs("label",{htmlFor:"logo-upload",className:"absolute inset-0 flex flex-col items-center justify-center cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:[t.jsx("svg",{className:"w-10 h-10 text-slate-400 dark:text-slate-500 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),t.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:"Upload"})]})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 dark:text-slate-400 mb-2",children:"AI Employee Name *"}),t.jsx("input",{type:"text",value:A.content.companyName,onChange:e=>I("content","companyName",e.target.value),placeholder:"Enter your company name",className:"common-bg-icons w-full px-3 py-2 rounded-lg text-sm"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 dark:text-slate-400 mb-2",children:"AI Employee Description"}),t.jsx("textarea",{value:A.content.companyDescription,onChange:e=>I("content","companyDescription",e.target.value),placeholder:"AI-Powered Support - We offer 24/7 voice support to handle your business calls...",rows:3,className:"common-bg-icons w-full px-3 py-2 rounded-lg text-sm resize-none"})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-3",children:"Theme & Colors"}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Choose a Gradient Theme"}),t.jsx("div",{className:"lg:hidden",children:t.jsx("div",{className:"grid grid-cols-3 gap-2",children:L.map(e=>{const s=A.theme.primaryColor===e.primaryColor&&A.theme.accentColor===e.accentColor;return t.jsxs("button",{onClick:()=>P(e),className:"relative group h-14 rounded-lg border-2 transition-all duration-200 "+(s?"border-blue-500 ring-1 ring-blue-200 dark:ring-blue-800":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"),style:{background:e.gradient},title:e.name,children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent rounded-md"}),t.jsxs("div",{className:"relative h-full flex flex-col items-center justify-center text-white",children:[t.jsx("div",{className:"text-[9px] font-medium opacity-90 px-0.5 text-center leading-tight",children:e.name}),s&&t.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center border border-white",children:t.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]})]},e.id)})})}),t.jsx("div",{className:"hidden lg:grid grid-cols-2 gap-3",children:L.map(e=>{const s=A.theme.primaryColor===e.primaryColor&&A.theme.accentColor===e.accentColor;return t.jsxs("button",{onClick:()=>P(e),className:"relative group h-16 rounded-lg border-2 transition-all duration-200 "+(s?"border-blue-500 ring-2 ring-blue-200 dark:ring-blue-800":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"),style:{background:e.gradient},title:e.name,children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent rounded-md"}),t.jsxs("div",{className:"relative h-full flex flex-col items-center justify-center text-white",children:[t.jsx("div",{className:"text-xs font-medium mb-1 opacity-90",children:e.name}),s&&t.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center border-2 border-white",children:t.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]})]},e.id)})}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"Select a preset theme or customize individual colors below"})]})})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h4",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Live Preview"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>o("mobile"),className:"p-2 rounded-lg transition-colors "+("mobile"===i?"common-button-bg text-white":"common-bg-icons text-slate-600 dark:text-slate-400"),children:t.jsx(g,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>o("desktop"),className:"p-2 rounded-lg transition-colors "+("desktop"===i?"common-button-bg text-white":"common-bg-icons text-slate-600 dark:text-slate-400"),children:t.jsx(p,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>C(e=>e+1),className:"p-2 rounded-lg common-bg-icons text-slate-600 dark:text-slate-400 hover:opacity-90 transition-opacity",title:"Refresh Preview",children:t.jsx(x,{className:"w-4 h-4"})})]})]}),t.jsx("div",{className:"relative bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-800 dark:to-slate-900 rounded-xl overflow-hidden "+("mobile"===i?"h-[600px]":"h-[500px]"),children:t.jsx("iframe",{ref:S,srcDoc:`<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Widget Preview</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 20px;\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n            background: linear-gradient(135deg, #f0f9ff 0%, #e0e7ff 100%);\n            min-height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            overflow: hidden;\n        }\n        .demo-content {\n            text-align: center;\n            max-width: 600px;\n            width: 100%;\n            padding: 2rem;\n            background: white;\n            border-radius: 16px;\n            box-shadow: 0 10px 25px rgba(0,0,0,0.1);\n        }\n        .company-header {\n            margin-bottom: 2rem;\n        }\n        .company-logo {\n            width: 80px;\n            height: 80px;\n            border-radius: 16px;\n            margin: 0 auto 1rem;\n            display: block;\n            object-fit: cover;\n            box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n        }\n        .company-name {\n            font-size: 2rem;\n            font-weight: 700;\n            color: #1f2937;\n            margin-bottom: 0.5rem;\n        }\n        .company-description {\n           y font-size: 1.1rem;\n            color: #6b7280;\n            line-height: 1.6;\n            margin-bottom: 2rem;\n        }\n        .demo-text {\n            color: #4b5563;\n            font-size: 1rem;\n            margin-bottom: 1rem;\n        }\n        .device-badge {\n            display: inline-block;\n            background: linear-gradient(135deg, #3b82f6, #8b5cf6);\n            color: white;\n            padding: 0.5rem 1rem;\n            border-radius: 20px;\n            font-size: 0.875rem;\n            font-weight: 600;\n            margin-bottom: 1rem;\n        }\n        @media (max-width: 768px) {\n            body { padding: 10px; }\n            .demo-content { padding: 1.5rem; }\n            .company-name { font-size: 1.5rem; }\n            .company-description { font-size: 1rem; }\n        }\n    </style>\n</head>\n<body>\n    <div class="">\n      \n        \n      \n\n\n\n<div class="demo-text">\n  <strong> Test Your AI Employee Widget:</strong>\n</div>\n<div style="background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 12px; padding: 1.5rem; margin: 1rem 0; text-align: left;">\n  <div style="color: #374151; font-size: 0.9rem; line-height: 1.6;">\n    <p style="margin: 0 0 1rem 0; font-weight: 600; color: #1f2937;">\n      ðŸ“‹ How to test:\n    </p>\n    <ol style="margin: 0; padding-left: 1.5rem; color: #4b5563;">\n      <li style="margin-bottom: 0.75rem;">\n        <strong>Look for the call button</strong> - It should appear in the bottom-right corner\n      </li>\n      <li style="margin-bottom: 0.75rem;">\n        <strong>Click to open</strong> - Test the interface and your custom branding\n      </li>\n      <li style="margin-bottom: 0.75rem;">\n        <strong>Try voice features</strong> - Click the Start call button icon to test voice input of AI Employee\n      </li>\n      <li style="margin-bottom: 0;">\n        <strong>Check response and Other Features</strong> - Send messages, view Transcripts, and see how the AI responds\n      </li>\n    </ol>\n    <div style="margin-top: 1rem; padding: 0.75rem; background: #dbeafe; border-radius: 8px; border-left: 4px solid #3b82f6;">\n      <p style="margin: 0; font-size: 0.85rem; color: #1e40af;">\n        ðŸ’¡ <strong>Tip:</strong> Make changes in the customization panel and see them update in real-time!\n      </p>\n    </div>\n  </div>\n</div>\n    </div>\n\n    \x3c!-- Pass configuration to widget --\x3e\n    <script>\n        // Debug: Log agentId being passed to configure widget\n        console.log("ðŸ” Setting configure widget agentId:", "${s}");\n        \n        window.ShivAI = window.ShivAI || {};\n        window.ShivAI.config = {\n            companyName: "${A.content.companyName}",\n            companyDescription: "${A.content.companyDescription}",\n            ${A.content.companyLogo?`companyLogo: "${A.content.companyLogo}",`:""}\n        };\n        \n        // Also set SHIVAI_CONFIG for agent ID\n        window.SHIVAI_CONFIG = {\n            agentId: "${s}",\n            theme: ${JSON.stringify(A.theme)},\n            ui: ${JSON.stringify(A.ui)},\n            content: ${JSON.stringify(A.content)},\n            features: ${JSON.stringify(A.features)}\n        };\n        \n        console.log("âœ… Configure widget SHIVAI_CONFIG set:", window.SHIVAI_CONFIG);\n        \n        // Refresh widget theme after config is set\n        setTimeout(() => {\n            if (window.ShivAIWidget && window.ShivAIWidget.refreshTheme) {\n                window.ShivAIWidget.refreshTheme();\n                console.log("ðŸŽ¨ Theme refreshed in configure view");\n            }\n        }, 100);\n    <\/script>\n    \n    \x3c!-- Load the actual widget.js --\x3e\n    <script src="/widget.js?agentId=${s}&companyName=${encodeURIComponent(A.content.companyName)}&companyDescription=${encodeURIComponent(A.content.companyDescription)}&agentName=${encodeURIComponent(A.content.companyName)}&v=${Date.now()}"><\/script>\n</body>\n</html>`,className:"w-full h-full border-0",title:"Widget Preview",sandbox:"allow-scripts allow-same-origin"},`${N}-${JSON.stringify(A.content)}`)})]})]})]})]})})},V=({currentAgent:s})=>{const[a,n]=e.useState({theme:{primaryColor:"#4b5563",secondaryColor:"#6b7280",accentColor:"#374151",borderRadius:"16px",buttonStyle:"floating",widgetStyle:"modern"},ui:{position:"bottom-right",buttonSize:"medium",chatHeight:"320px",chatWidth:"380px",autoOpen:!1,minimizeButton:!0,draggable:!0},content:{welcomeMessage:`Hi! I'm ${s.name}. How can I help you today?`,companyName:s.name,companyDescription:"AI-Powered Support - We offer 24/7 voice support to handle your business calls efficiently and professionally.",companyLogo:"",placeholderText:"Type your message...",offlineMessage:"We're currently offline. Please leave a message."},features:{voiceEnabled:!0,soundEffects:!0,showBranding:!0,messageHistory:!0,typingIndicator:!0,fileUpload:!1},customCSS:""});e.useEffect(()=>{(async()=>{try{const e=await fetch(`/api/agents/${s.id}/widget-config`);if(e.ok){const t=await e.json();n(t)}}catch(e){}})();const e=e=>{e.detail.agentId===s.id&&n(e.detail.config)};return window.addEventListener("widgetConfigUpdated",e),()=>{window.removeEventListener("widgetConfigUpdated",e)}},[s.id]);const r=`<script src="https://callshivai.com/widget2.js?${new URLSearchParams({agentId:s.id,agentName:s.name,language:s.language,primaryColor:a.theme.primaryColor,secondaryColor:a.theme.secondaryColor,accentColor:a.theme.accentColor,position:a.ui.position,chatWidth:a.ui.chatWidth,chatHeight:a.ui.chatHeight,autoOpen:a.ui.autoOpen.toString(),voiceEnabled:a.features.voiceEnabled.toString(),companyName:a.content.companyName,companyDescription:a.content.companyDescription,welcomeMessage:a.content.welcomeMessage,v:Date.now().toString()}).toString()}"><\/script>`;return t.jsx("div",{className:"mt-6 sm:mt-8",children:t.jsx(d,{children:t.jsxs("div",{className:"p-4 sm:p-6",children:[t.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-white mb-3 sm:mb-4",children:"Widget Integration Code"}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Copy and paste this script tag into your website's HTML. All your widget customizations are included in the URL."}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Script Tag"}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400",children:[t.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Live Configuration"]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("code",{className:"common-bg-icons block w-full p-3 rounded-lg text-xs sm:text-sm font-mono text-slate-800 dark:text-white overflow-x-auto whitespace-pre-wrap max-h-64 overflow-y-auto",children:r}),t.jsx("button",{onClick:()=>{navigator.clipboard.writeText(r)},className:"absolute top-2 right-2 p-2 common-bg-icons rounded-md hover:shadow-sm transition-all touch-manipulation min-h-[36px] min-w-[36px] bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm",title:"Copy embed code",children:t.jsx(b,{className:"w-4 h-4 text-slate-600 dark:text-slate-300"})})]}),t.jsxs("div",{className:"mt-4 p-3 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:[t.jsx("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"ðŸ“‹ Quick Installation:"}),t.jsxs("ol",{className:"text-xs text-slate-600 dark:text-slate-400 space-y-1 list-decimal list-inside",children:[t.jsx("li",{children:"Copy the script tag above"}),t.jsx("li",{children:"Paste it in your website's HTML, before the closing </body> tag"}),t.jsx("li",{children:"The widget will load automatically with all your custom settings"}),t.jsx("li",{children:"To update: copy new script when you change settings"})]})]})]})]})})})};
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q={},Y={exports:{}};function X(){}function Z(){}Z.resetWarningCache=X;Y.exports=function(){function e(e,t,s,a,n,r){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Z,resetWarningCache:X};return s.PropTypes=s,s}();var ee=Y.exports,te={L:1,M:0,Q:3,H:2},se={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},ae=se;function ne(e){this.mode=ae.MODE_8BIT_BYTE,this.data=e}ne.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var re=ne,le=te;function ie(e,t){this.totalCount=e,this.dataCount=t}ie.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],ie.getRSBlocks=function(e,t){var s=ie.getRsBlockTable(e,t);if(null==s)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var a=s.length/3,n=new Array,r=0;r<a;r++)for(var l=s[3*r+0],i=s[3*r+1],o=s[3*r+2],d=0;d<l;d++)n.push(new ie(i,o));return n},ie.getRsBlockTable=function(e,t){switch(t){case le.L:return ie.RS_BLOCK_TABLE[4*(e-1)+0];case le.M:return ie.RS_BLOCK_TABLE[4*(e-1)+1];case le.Q:return ie.RS_BLOCK_TABLE[4*(e-1)+2];case le.H:return ie.RS_BLOCK_TABLE[4*(e-1)+3];default:return}};var oe=ie;function de(){this.buffer=new Array,this.length=0}de.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var s=0;s<t;s++)this.putBit(1==(e>>>t-s-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};for(var ce=de,me={glog:function(e){if(e<1)throw new Error("glog("+e+")");return me.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return me.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},xe=0;xe<8;xe++)me.EXP_TABLE[xe]=1<<xe;for(xe=8;xe<256;xe++)me.EXP_TABLE[xe]=me.EXP_TABLE[xe-4]^me.EXP_TABLE[xe-5]^me.EXP_TABLE[xe-6]^me.EXP_TABLE[xe-8];for(xe=0;xe<255;xe++)me.LOG_TABLE[me.EXP_TABLE[xe]]=xe;var he=me,ue=he;function ge(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var s=0;s<e.length&&0==e[s];)s++;this.num=new Array(e.length-s+t);for(var a=0;a<e.length-s;a++)this.num[a]=e[a+s]}ge.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),s=0;s<this.getLength();s++)for(var a=0;a<e.getLength();a++)t[s+a]^=ue.gexp(ue.glog(this.get(s))+ue.glog(e.get(a)));return new ge(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=ue.glog(this.get(0))-ue.glog(e.get(0)),s=new Array(this.getLength()),a=0;a<this.getLength();a++)s[a]=this.get(a);for(a=0;a<e.getLength();a++)s[a]^=ue.gexp(ue.glog(e.get(a))+t);return new ge(s,0).mod(e)}};var pe=se,fe=ge,be=he,ve=0,je=1,we=2,ye=3,ke=4,Ne=5,Ce=6,Se=7,Ee={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Ee.getBCHDigit(t)-Ee.getBCHDigit(Ee.G15)>=0;)t^=Ee.G15<<Ee.getBCHDigit(t)-Ee.getBCHDigit(Ee.G15);return(e<<10|t)^Ee.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Ee.getBCHDigit(t)-Ee.getBCHDigit(Ee.G18)>=0;)t^=Ee.G18<<Ee.getBCHDigit(t)-Ee.getBCHDigit(Ee.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return Ee.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,s){switch(e){case ve:return(t+s)%2==0;case je:return t%2==0;case we:return s%3==0;case ye:return(t+s)%3==0;case ke:return(Math.floor(t/2)+Math.floor(s/3))%2==0;case Ne:return t*s%2+t*s%3==0;case Ce:return(t*s%2+t*s%3)%2==0;case Se:return(t*s%3+(t+s)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new fe([1],0),s=0;s<e;s++)t=t.multiply(new fe([1,be.gexp(s)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case pe.MODE_NUMBER:return 10;case pe.MODE_ALPHA_NUM:return 9;case pe.MODE_8BIT_BYTE:case pe.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case pe.MODE_NUMBER:return 12;case pe.MODE_ALPHA_NUM:return 11;case pe.MODE_8BIT_BYTE:return 16;case pe.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case pe.MODE_NUMBER:return 14;case pe.MODE_ALPHA_NUM:return 13;case pe.MODE_8BIT_BYTE:return 16;case pe.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),s=0,a=0;a<t;a++)for(var n=0;n<t;n++){for(var r=0,l=e.isDark(a,n),i=-1;i<=1;i++)if(!(a+i<0||t<=a+i))for(var o=-1;o<=1;o++)n+o<0||t<=n+o||0==i&&0==o||l==e.isDark(a+i,n+o)&&r++;r>5&&(s+=3+r-5)}for(a=0;a<t-1;a++)for(n=0;n<t-1;n++){var d=0;e.isDark(a,n)&&d++,e.isDark(a+1,n)&&d++,e.isDark(a,n+1)&&d++,e.isDark(a+1,n+1)&&d++,0!=d&&4!=d||(s+=3)}for(a=0;a<t;a++)for(n=0;n<t-6;n++)e.isDark(a,n)&&!e.isDark(a,n+1)&&e.isDark(a,n+2)&&e.isDark(a,n+3)&&e.isDark(a,n+4)&&!e.isDark(a,n+5)&&e.isDark(a,n+6)&&(s+=40);for(n=0;n<t;n++)for(a=0;a<t-6;a++)e.isDark(a,n)&&!e.isDark(a+1,n)&&e.isDark(a+2,n)&&e.isDark(a+3,n)&&e.isDark(a+4,n)&&!e.isDark(a+5,n)&&e.isDark(a+6,n)&&(s+=40);var c=0;for(n=0;n<t;n++)for(a=0;a<t;a++)e.isDark(a,n)&&c++;return s+=10*(Math.abs(100*c/t/t-50)/5)}},Le=re,Pe=oe,Ae=ce,Te=Ee,Me=ge;function De(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var Ie=De.prototype;Ie.addData=function(e){var t=new Le(e);this.dataList.push(t),this.dataCache=null},Ie.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},Ie.getModuleCount=function(){return this.moduleCount},Ie.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=Pe.getRSBlocks(e,this.errorCorrectLevel),s=new Ae,a=0,n=0;n<t.length;n++)a+=t[n].dataCount;for(n=0;n<this.dataList.length;n++){var r=this.dataList[n];s.put(r.mode,4),s.put(r.getLength(),Te.getLengthInBits(r.mode,e)),r.write(s)}if(s.getLengthInBits()<=8*a)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},Ie.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var s=0;s<this.moduleCount;s++){this.modules[s]=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++)this.modules[s][a]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=De.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},Ie.setupPositionProbePattern=function(e,t){for(var s=-1;s<=7;s++)if(!(e+s<=-1||this.moduleCount<=e+s))for(var a=-1;a<=7;a++)t+a<=-1||this.moduleCount<=t+a||(this.modules[e+s][t+a]=0<=s&&s<=6&&(0==a||6==a)||0<=a&&a<=6&&(0==s||6==s)||2<=s&&s<=4&&2<=a&&a<=4)},Ie.getBestMaskPattern=function(){for(var e=0,t=0,s=0;s<8;s++){this.makeImpl(!0,s);var a=Te.getLostPoint(this);(0==s||e>a)&&(e=a,t=s)}return t},Ie.createMovieClip=function(e,t,s){var a=e.createEmptyMovieClip(t,s);this.make();for(var n=0;n<this.modules.length;n++)for(var r=1*n,l=0;l<this.modules[n].length;l++){var i=1*l;this.modules[n][l]&&(a.beginFill(0,100),a.moveTo(i,r),a.lineTo(i+1,r),a.lineTo(i+1,r+1),a.lineTo(i,r+1),a.endFill())}return a},Ie.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},Ie.setupPositionAdjustPattern=function(){for(var e=Te.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var s=0;s<e.length;s++){var a=e[t],n=e[s];if(null==this.modules[a][n])for(var r=-2;r<=2;r++)for(var l=-2;l<=2;l++)this.modules[a+r][n+l]=-2==r||2==r||-2==l||2==l||0==r&&0==l}},Ie.setupTypeNumber=function(e){for(var t=Te.getBCHTypeNumber(this.typeNumber),s=0;s<18;s++){var a=!e&&1==(t>>s&1);this.modules[Math.floor(s/3)][s%3+this.moduleCount-8-3]=a}for(s=0;s<18;s++){a=!e&&1==(t>>s&1);this.modules[s%3+this.moduleCount-8-3][Math.floor(s/3)]=a}},Ie.setupTypeInfo=function(e,t){for(var s=this.errorCorrectLevel<<3|t,a=Te.getBCHTypeInfo(s),n=0;n<15;n++){var r=!e&&1==(a>>n&1);n<6?this.modules[n][8]=r:n<8?this.modules[n+1][8]=r:this.modules[this.moduleCount-15+n][8]=r}for(n=0;n<15;n++){r=!e&&1==(a>>n&1);n<8?this.modules[8][this.moduleCount-n-1]=r:n<9?this.modules[8][15-n-1+1]=r:this.modules[8][15-n-1]=r}this.modules[this.moduleCount-8][8]=!e},Ie.mapData=function(e,t){for(var s=-1,a=this.moduleCount-1,n=7,r=0,l=this.moduleCount-1;l>0;l-=2)for(6==l&&l--;;){for(var i=0;i<2;i++)if(null==this.modules[a][l-i]){var o=!1;r<e.length&&(o=1==(e[r]>>>n&1)),Te.getMask(t,a,l-i)&&(o=!o),this.modules[a][l-i]=o,-1==--n&&(r++,n=7)}if((a+=s)<0||this.moduleCount<=a){a-=s,s=-s;break}}},De.PAD0=236,De.PAD1=17,De.createData=function(e,t,s){for(var a=Pe.getRSBlocks(e,t),n=new Ae,r=0;r<s.length;r++){var l=s[r];n.put(l.mode,4),n.put(l.getLength(),Te.getLengthInBits(l.mode,e)),l.write(n)}var i=0;for(r=0;r<a.length;r++)i+=a[r].dataCount;if(n.getLengthInBits()>8*i)throw new Error("code length overflow. ("+n.getLengthInBits()+">"+8*i+")");for(n.getLengthInBits()+4<=8*i&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(!1);for(;!(n.getLengthInBits()>=8*i||(n.put(De.PAD0,8),n.getLengthInBits()>=8*i));)n.put(De.PAD1,8);return De.createBytes(n,a)},De.createBytes=function(e,t){for(var s=0,a=0,n=0,r=new Array(t.length),l=new Array(t.length),i=0;i<t.length;i++){var o=t[i].dataCount,d=t[i].totalCount-o;a=Math.max(a,o),n=Math.max(n,d),r[i]=new Array(o);for(var c=0;c<r[i].length;c++)r[i][c]=255&e.buffer[c+s];s+=o;var m=Te.getErrorCorrectPolynomial(d),x=new Me(r[i],m.getLength()-1).mod(m);l[i]=new Array(m.getLength()-1);for(c=0;c<l[i].length;c++){var h=c+x.getLength()-l[i].length;l[i][c]=h>=0?x.get(h):0}}var u=0;for(c=0;c<t.length;c++)u+=t[c].totalCount;var g=new Array(u),p=0;for(c=0;c<a;c++)for(i=0;i<t.length;i++)c<r[i].length&&(g[p++]=r[i][c]);for(c=0;c<n;c++)for(i=0;i<t.length;i++)c<l[i].length&&(g[p++]=l[i][c]);return g};var Re=De,Be={};Object.defineProperty(Be,"__esModule",{value:!0});var _e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Oe=Fe(ee),$e=e,Ue=Fe($e);function Fe(e){return e&&e.__esModule?e:{default:e}}var ze={bgColor:Oe.default.oneOfType([Oe.default.object,Oe.default.string]).isRequired,bgD:Oe.default.string.isRequired,fgColor:Oe.default.oneOfType([Oe.default.object,Oe.default.string]).isRequired,fgD:Oe.default.string.isRequired,size:Oe.default.number.isRequired,title:Oe.default.string,viewBoxSize:Oe.default.number.isRequired,xmlns:Oe.default.string},He=(0,$e.forwardRef)(function(e,t){var s=e.bgColor,a=e.bgD,n=e.fgD,r=e.fgColor,l=e.size,i=e.title,o=e.viewBoxSize,d=e.xmlns,c=void 0===d?"http://www.w3.org/2000/svg":d,m=function(e,t){var s={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(s[a]=e[a]);return s}(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return Ue.default.createElement("svg",_e({},m,{height:l,ref:t,viewBox:"0 0 "+o+" "+o,width:l,xmlns:c}),i?Ue.default.createElement("title",null,i):null,Ue.default.createElement("path",{d:a,fill:s}),Ue.default.createElement("path",{d:n,fill:r}))});He.displayName="QRCodeSvg",He.propTypes=ze,Be.default=He,Object.defineProperty(Q,"__esModule",{value:!0}),Q.QRCode=void 0;var Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ge=Ye(ee),We=Ye(te),Je=Ye(Re),qe=e,Ve=Ye(qe),Qe=Ye(Be);function Ye(e){return e&&e.__esModule?e:{default:e}}var Xe={bgColor:Ge.default.oneOfType([Ge.default.object,Ge.default.string]),fgColor:Ge.default.oneOfType([Ge.default.object,Ge.default.string]),level:Ge.default.string,size:Ge.default.number,value:Ge.default.string.isRequired},Ze=(0,qe.forwardRef)(function(e,t){var s=e.bgColor,a=void 0===s?"#FFFFFF":s,n=e.fgColor,r=void 0===n?"#000000":n,l=e.level,i=void 0===l?"L":l,o=e.size,d=void 0===o?256:o,c=e.value,m=function(e,t){var s={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(s[a]=e[a]);return s}(e,["bgColor","fgColor","level","size","value"]),x=new Je.default(-1,We.default[i]);x.addData(c),x.make();var h=x.modules;return Ve.default.createElement(Qe.default,Ke({},m,{bgColor:a,bgD:h.map(function(e,t){return e.map(function(e,s){return e?"":"M "+s+" "+t+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:r,fgD:h.map(function(e,t){return e.map(function(e,s){return e?"M "+s+" "+t+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:d,viewBoxSize:h.length}))});Q.QRCode=Ze,Ze.displayName="QRCode",Ze.propTypes=Xe;var et=Q.default=Ze;const tt=({agent:e,onClose:a})=>{const n=`https://widget.callshivai.com/agent/${e.id}`,[r,l]=s.useState(180);s.useEffect(()=>{const e=()=>{window.innerWidth<640?l(140):window.innerWidth<1024?l(160):l(180)},t=e=>{"Escape"===e.key&&a()};return e(),window.addEventListener("resize",e),window.addEventListener("keydown",t),()=>{window.removeEventListener("resize",e),window.removeEventListener("keydown",t)}},[a]);return t.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-3 sm:p-4 -top-8",onClick:e=>{e.target===e.currentTarget&&a()},children:t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-lg sm:max-w-2xl lg:max-w-4xl max-h-[90vh] overflow-y-auto relative border border-slate-200 dark:border-slate-700",children:[t.jsx("button",{onClick:a,className:"absolute top-3 right-3 sm:top-4 sm:right-4 p-2 hover:bg-slate-100 dark:hover:bg-slate-700 bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm rounded-lg transition-colors z-50 cursor-pointer",children:t.jsx(v,{className:"w-4 h-4 sm:w-5 sm:h-5 text-slate-500 dark:text-slate-400"})}),t.jsx("div",{className:"bg-gradient-to-r from-gray-400 via-gray-500 to-gray-600 px-4 sm:px-6 py-4 text-white relative overflow-hidden",children:t.jsx("div",{className:"relative z-10",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center",children:t.jsx(K,{className:"w-4 h-4 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg sm:text-xl font-bold",children:"Share Agent"}),t.jsx("p",{className:"text-white/80 text-sm",children:"Scan to start conversation"})]})]})})}),t.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-5 lg:gap-6 p-4 sm:p-6",children:[t.jsx("div",{className:"lg:col-span-2 flex justify-center mb-6 lg:mb-0",children:t.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 flex items-center justify-center shadow-lg border-2 border-slate-100 dark:border-slate-700 relative max-w-xs sm:max-w-none",children:[t.jsxs("div",{className:"relative bg-white p-3 sm:p-4 rounded-lg shadow-inner",children:[t.jsx("div",{className:"bg-white p-2 sm:p-3 rounded-lg border border-slate-100",children:t.jsx(et,{id:"qr-code-svg",value:n,size:r,style:{height:"auto",maxWidth:"100%",width:"100%"},viewBox:"0 0 256 256",bgColor:"#ffffff",fgColor:"#000000",level:"M"})}),t.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg p-1.5 shadow-xl border-2 border-white",children:t.jsxs("div",{className:"w-4 h-4 sm:w-5 sm:h-5 bg-gradient-to-br from-gray-500 to-gray-600 rounded-md flex items-center justify-center shadow-md relative overflow-hidden",children:[t.jsx("span",{className:"text-white font-bold text-xs relative z-10",children:"AI"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"})]})})]}),t.jsx("div",{className:"absolute top-2 left-2 w-3 h-3 border-l-2 border-t-2 border-gray-400 rounded-tl-md"}),t.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 border-r-2 border-t-2 border-gray-400 rounded-tr-md"}),t.jsx("div",{className:"absolute bottom-2 left-2 w-3 h-3 border-l-2 border-b-2 border-gray-400 rounded-bl-md"}),t.jsx("div",{className:"absolute bottom-2 right-2 w-3 h-3 border-r-2 border-b-2 border-gray-400 rounded-br-md"})]})}),t.jsxs("div",{className:"lg:col-span-3 flex flex-col justify-between",children:[t.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-slate-900/50 dark:to-gray-800/20 rounded-xl p-4 sm:p-5 border border-slate-200 dark:border-slate-700 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-gray-400 to-gray-500 rounded-lg flex items-center justify-center shadow-lg flex-shrink-0",children:t.jsx("span",{className:"text-white font-bold text-lg",children:e.name.charAt(0).toUpperCase()})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"font-bold text-slate-800 dark:text-white text-base sm:text-lg truncate",children:e.name}),t.jsx("div",{className:"flex items-center gap-2 mt-1",children:t.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold "+("Published"===e.status?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"Training"===e.status?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300"),children:[t.jsx("div",{className:"w-2 h-2 rounded-full mr-1.5 "+("Published"===e.status?"bg-green-500":"Training"===e.status?"bg-yellow-500":"bg-slate-500")}),e.status]})})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-3 border border-slate-200 dark:border-slate-600",children:[t.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium mb-1 uppercase tracking-wide",children:"Widget URL"}),t.jsx("p",{className:"font-mono text-xs sm:text-sm text-gray-600 dark:text-gray-400 break-all bg-gray-100 dark:bg-gray-800/20 px-2 py-1.5 rounded",children:n})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsxs("button",{onClick:()=>{const t=document.getElementById("qr-code-svg");if(!t)return;const s=document.createElement("canvas"),a=s.getContext("2d");if(!a)return;const n=(new XMLSerializer).serializeToString(t),r=window.URL||window.webkitURL||window,l=new Image,i=new Blob([n],{type:"image/svg+xml;charset=utf-8"}),o=r.createObjectURL(i);l.onload=()=>{s.width=512,s.height=512,a.fillStyle="#ffffff",a.fillRect(0,0,s.width,s.height),a.drawImage(l,0,0,s.width,s.height),r.revokeObjectURL(o);const t=document.createElement("a");t.download=`${e.name}-qr-code.png`,t.href=s.toDataURL(),t.click()},l.src=o},className:"group bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-2 touch-manipulation",children:[t.jsx("div",{className:"w-4 h-4 transition-transform group-hover:scale-110",children:t.jsxs("svg",{fill:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),t.jsx("polyline",{points:"14,2 14,8 20,8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10,9 9,9 8,9"})]})}),t.jsx("span",{className:"text-sm sm:text-base",children:"Download QR"})]}),t.jsxs("button",{id:"copy-url-btn",onClick:()=>{navigator.clipboard.writeText(n);const e=document.getElementById("copy-url-btn");if(e){const t=e.innerHTML;e.innerHTML='\n        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>\n        </svg>\n        Copied!\n      ',setTimeout(()=>{e.innerHTML=t},2e3)}},className:"group bg-white hover:bg-slate-50 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 font-semibold py-3 px-4 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98] border-2 border-slate-200 dark:border-slate-600 flex items-center justify-center gap-2 touch-manipulation",children:[t.jsx("div",{className:"w-4 h-4 transition-transform group-hover:scale-110",children:t.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),t.jsx("span",{className:"text-sm sm:text-base",children:"Copy Link"})]})]}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs sm:text-sm leading-relaxed",children:"Share this QR code or link to let users instantly chat with your AI agent"})})]})]})]})})};const st=new class{constructor(){this.room=null,this.isConnected=!1,this.isConnecting=!1,this.callbacks=null,this.lastSentMessage=null,this.localAudioTrack=null,this.remoteAudioTrack=null}async loadLiveKitSDK(){return new Promise((e,t)=>{if(void 0!==window.LivekitClient)return void e();const s=document.createElement("script");s.src="https://unpkg.com/livekit-client@latest/dist/livekit-client.umd.js",s.onload=()=>{e()},s.onerror=()=>{t(new Error("Failed to load LiveKit client"))},document.head.appendChild(s)})}setCallbacks(e){this.callbacks=e}async connect(e,t="en-US"){var s,a,n,r;try{if(this.isConnecting||this.isConnected)return;if(this.isConnecting=!0,null==(s=this.callbacks)||s.onStatusUpdate("Loading LiveKit...","connecting"),void 0===window.LivekitClient&&(await this.loadLiveKitSDK(),void 0===window.LivekitClient))throw new Error("LiveKit not available after loading");if(null==(a=this.callbacks)||a.onStatusUpdate("Connecting...","connecting"),!this.isConnecting)return;const n=/Mobile|Android|iPhone/i.test(navigator.userAgent)?"mobile":"desktop",r=`call_${Date.now()}`,l=await fetch("https://python.service.callshivai.com/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({agent_id:e,language:t,call_id:r,device:n,user_agent:navigator.userAgent})});if(!l.ok){const e=await l.text();throw new Error(`Failed to get LiveKit token: ${l.status} - ${e}`)}const i=await l.json();if(!this.isConnecting)return;window.pendingAudioElement&&(window.pendingAudioElement.play().catch(e=>{}),window.pendingAudioElement=null);const o={echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,suppressLocalAudioPlayback:!0,channelCount:1,sampleRate:48e3,sampleSize:16,volume:.5,latency:.1,facingMode:"user",deviceId:"default",googEchoCancellation:!0,googAutoGainControl:!0,googNoiseSuppression:!0,googHighpassFilter:!0,googAudioMirroring:!1,googBeamforming:!1,googArrayGeometry:!1,mozAutoGainControl:!0,mozNoiseSuppression:!0},d=window.LivekitClient,c={adaptiveStream:!0,dynacast:!0,audioCaptureDefaults:{...o,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,suppressLocalAudioPlayback:!0},reconnectPolicy:{nextRetryDelayInMs:()=>2e3},publishDefaults:{audioPreset:d.AudioPresets.speech,dtx:!0,red:!1,simulcast:!1},e2eeEnabled:!1,expWebAudioMix:!1};if(this.room=new d.Room(c),this.setupRoomEvents(d,o),await this.room.connect(i.url,i.token),!this.isConnecting)return void(this.room&&(this.room.disconnect(),this.room=null))}catch(l){this.isConnecting=!1,this.isConnected=!1;let e="Connection failed";l instanceof Error&&(l.message.includes("token")?e="Authentication failed":l.message.includes("timeout")?e="Connection timeout":l.message.includes("network")&&(e="Network error")),null==(n=this.callbacks)||n.onError(e),null==(r=this.callbacks)||r.onStatusUpdate(`âŒ ${e}`,"disconnected")}}setupRoomEvents(e,t){if(this.room){this.room.on(e.RoomEvent.TrackSubscribed,(t,s,a)=>{if(t.kind===e.Track.Kind.Audio){const e=t.attach();if(e.volume=.4,e.preload="auto",e.autoplay=!0,e.setSinkId)try{e.setSinkId("default")}catch(n){}void 0!==e.webkitAudioDecodedByteCount&&(e.webkitPreservesPitch=!1),document.body.appendChild(e),e.play().catch(t=>{window.pendingAudioElement=e}),this.remoteAudioTrack=t}}),this.room.on(e.RoomEvent.ParticipantMetadataChanged,(e,t)=>{if(e)try{const t=JSON.parse(e);(t.transcript||t.text)&&this.addMessage(!1,t.transcript||t.text,"voice")}catch(s){}}),this.room.on(e.RoomEvent.RoomMetadataChanged,e=>{if(e)try{const t=JSON.parse(e);(t.transcript||t.text)&&this.addMessage(!1,t.transcript||t.text,"voice")}catch(t){}}),this.room.on(e.RoomEvent.Connected,async()=>{var e,t,s,a;this.isConnected=!0,this.isConnecting=!1,null==(e=this.callbacks)||e.onStatusUpdate("ðŸ¤– AI is Initializing...","connected");try{await this.room.localParticipant.setMicrophoneEnabled(!0,{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,suppressLocalAudioPlayback:!0,channelCount:1,sampleRate:48e3,sampleSize:16,volume:.5,latency:.1,facingMode:"user"})}catch(r){try{await this.room.localParticipant.setMicrophoneEnabled(!0)}catch(l){null==(t=this.callbacks)||t.onError("Failed to enable microphone. Please check your microphone permissions and try again.")}}if(window.AudioContext||window.webkitAudioContext){const e=new(window.AudioContext||window.webkitAudioContext);"suspended"===e.state&&e.resume().then(()=>{}).catch(e=>{})}null==(s=this.callbacks)||s.onStatusUpdate("âœ… Connected - Speak now!","connected");const n=Array.from(this.room.localParticipant.audioTrackPublications.values());n.length>0&&(this.localAudioTrack=n[0].track),null==(a=this.callbacks)||a.onConnected()}),this.room.on(e.RoomEvent.Disconnected,e=>{var t,s;this.isConnected=!1,null==(t=this.callbacks)||t.onDisconnected(e),null==(s=this.callbacks)||s.onStatusUpdate("âŒ Disconnected","disconnected")}),this.room.on(e.RoomEvent.ConnectionStateChanged,t=>{var s,a;null==(s=this.callbacks)||s.onConnectionStateChange(t),t===e.ConnectionState.Disconnected&&(this.isConnected=!1,null==(a=this.callbacks)||a.onStatusUpdate("âŒ Disconnected","disconnected"))}),this.room.on(e.RoomEvent.DataReceived,(e,t,s,a)=>{var n,r;try{const s=(new TextDecoder).decode(e);if(s&&s.trim().length>0){let e=s.trim(),a=!1;null==t||t.identity;if(["subscribed","connected","disconnected","enabled","disabled","true","false","null","undefined"].some(e=>s.toLowerCase()===e))return;try{const r=JSON.parse(s),l=["text","transcript","message","content","data","response","speech","voice","audio","words","result","output"];for(const t of l)if(r[t]&&"string"==typeof r[t]&&r[t].trim().length>0){e=r[t].trim(),a=!0;break}let i=!1;if(r.role?i=r.role.includes("user")||r.role.includes("human"):r.speaker?i=r.speaker.includes("user")||r.speaker.includes("human")||r.speaker.includes("You"):t&&(i=t.identity===(null==(n=this.room.localParticipant)?void 0:n.identity)),"transcript"===r.type&&r.text)return void("user"===r.role?"chat"!==r.type&&this.addMessage(!0,r.text,"voice"):"assistant"===r.role&&this.addMessage(!1,r.text,"voice"));if(a){const t=i;(!i||i&&"chat"!==r.type||i&&"typed"!==r.source)&&this.addMessage(t,e,"voice")}}catch(l){if(s.length>=2&&s.length<=1e3){const s=t&&t.identity===(null==(r=this.room.localParticipant)?void 0:r.identity);this.addMessage(s,e,"voice")}}}}catch(i){}});try{"function"==typeof this.room.registerTextStreamHandler&&(this.room.registerTextStreamHandler("lk.transcription",async(e,t)=>{var s,a,n,r;try{const l=e.info,i=(null==(s=l.attributes)||s["lk.transcription_final"],null==(a=l.attributes)||a["lk.transcribed_track_id"],null==(n=l.attributes)||n["lk.segment_id"],await e.readAll());if(i&&i.trim()){const e=t.identity===(null==(r=this.room.localParticipant)?void 0:r.identity);if(e&&this.lastSentMessage&&i.trim()===this.lastSentMessage.trim())return;this.addMessage(e,i,"voice")}}catch(l){}}),this.room.registerTextStreamHandler("lk.chat",async(e,t)=>{var s;try{const a=await e.readAll();!(t.identity===(null==(s=this.room.localParticipant)?void 0:s.identity))&&a&&a.trim()&&this.addMessage(!1,a,"chat")}catch(a){}}))}catch(s){}}}addMessage(e,t,s="voice"){if(!this.callbacks)return;const a={id:Date.now()+Math.random(),text:t.trim(),isUser:e,timestamp:new Date,source:s};this.callbacks.onMessage(a)}async sendMessage(e){var t;if(this.room&&this.isConnected&&e.trim())try{if("function"==typeof this.room.localParticipant.sendText)await this.room.localParticipant.sendText(e,{topic:"lk.chat"});else{const t={type:"chat",text:e,timestamp:Date.now(),source:"typed"},s=(new TextEncoder).encode(JSON.stringify(t));this.room.localParticipant.publishData(s,{reliable:!0})}this.addMessage(!0,e,"chat"),this.lastSentMessage=e}catch(s){null==(t=this.callbacks)||t.onError("Failed to send message")}}async disconnect(){if(this.room){this.isConnecting=!1,this.isConnected=!1;try{await this.room.disconnect()}catch(e){}this.room=null,this.localAudioTrack=null,this.remoteAudioTrack=null}}async toggleMute(){if(!this.room||!this.isConnected)return!1;try{const e=this.room.localParticipant.isMicrophoneEnabled;return await this.room.localParticipant.setMicrophoneEnabled(!e),!e}catch(e){return!1}}getStatus(){return{isConnected:this.isConnected,isConnecting:this.isConnecting}}},at=()=>{const{id:s}=a(),m=n(),x=r(),{agents:g,currentAgent:p,setCurrentAgent:W,updateAgent:Q,publishAgentStatus:Y,unpublishAgentStatus:X,refreshAgents:Z,deleteAgent:ee}=l(),{user:te}=i(),se=j(null==te?void 0:te.email),ae=x.pathname.includes("/edit"),ne=x.pathname.includes("/train"),re=s&&!ae&&!ne,le=!s,[ie,oe]=e.useState({name:"",gender:"Female",businessProcess:"",industry:"",persona:"Empathetic",language:"English (US)",voice:"Sarah - Professional",customInstructions:"",guardrailsLevel:"Medium",responseStyle:"Balanced",maxResponseLength:"Medium (150 words)",contextWindow:"Standard (8K tokens)",temperature:50}),[de,ce]=e.useState(""),[me,xe]=e.useState("all"),[he,ue]=e.useState(!1),[ge,pe]=e.useState(!1),[fe,be]=e.useState(!1),[ve,je]=e.useState(null),[we,ye]=e.useState(!1),[ke,Ne]=e.useState("call"),[Ce,Se]=e.useState(!1),[Ee,Le]=e.useState(0),[Pe,Ae]=e.useState(null),[Te,Me]=e.useState([{id:"1",text:`Hi! I'm ${(null==p?void 0:p.name)||"your AI assistant"}. How can I help you today?`,isUser:!1,timestamp:new Date}]),[De,Ie]=e.useState(""),Re=e.useRef(new Set),Be=e.useRef(0),[_e,Oe]=e.useState(!1),[$e,Ue]=e.useState(new Set),[Fe,ze]=e.useState("disconnected"),[He,Ke]=e.useState("Ready to connect"),[Ge,We]=e.useState(!1),[Je,qe]=e.useState(!1),[Ve,Qe]=e.useState(!1),[Ye,Xe]=e.useState(null),[Ze,et]=e.useState([]),[at,nt]=e.useState(!1),[rt,lt]=e.useState(null),[it,ot]=e.useState(!1),[dt,ct]=e.useState("ðŸ“ž Ready to start call");e.useEffect(()=>{const e={onMessage:e=>{Me(t=>[...t,{id:String(e.id),text:e.text,isUser:e.isUser,timestamp:e.timestamp,source:e.source}])},onConnected:()=>{Se(!0),ze("connected"),Ke("Connected - Speak now!"),Oe(!1)},onDisconnected:()=>{Se(!1),ze("disconnected"),Ke("Disconnected"),Oe(!1),Pe&&(clearInterval(Pe),Ae(null)),Le(0)},onConnectionStateChange:e=>{},onError:e=>{ze("disconnected"),Ke(e),Oe(!1),Se(!1)},onStatusUpdate:(e,t)=>{Ke(e),ze(t)}};return st.setCallbacks(e),()=>{st.disconnect(),Pe&&clearInterval(Pe)}},[Pe]),e.useEffect(()=>{if(s){const e=g.find(e=>e.id===s);e&&(W(e),oe({name:e.name,gender:"Female",businessProcess:"",industry:"",persona:e.persona,language:e.language,voice:e.voice,customInstructions:"",guardrailsLevel:"Medium",responseStyle:"Balanced",maxResponseLength:"Medium (150 words)",contextWindow:"Standard (8K tokens)",temperature:50}),Me([{id:"1",text:`Hi! I'm ${e.name}. How can I help you today?`,isUser:!1,timestamp:new Date}]),mt(e.id))}},[s,g,W]);const mt=async e=>{nt(!0),lt(null);try{const t=await o.getAgentSessions("",e),s=(null==t?void 0:t.sessions)||[];et(s)}catch(t){lt(t instanceof Error?t.message:"Failed to load session history"),et([])}finally{nt(!1)}},xt=async e=>{try{Ue(t=>new Set(t).add(e)),await Y(e),await Z()}catch(t){alert(t.message||"Failed to publish agent. Please try again.")}finally{Ue(t=>{const s=new Set(t);return s.delete(e),s})}},ht=async e=>{try{Ue(t=>new Set(t).add(e)),await X(e),await Z()}catch(t){alert(t.message||"Failed to pause agent. Please try again.")}finally{Ue(t=>{const s=new Set(t);return s.delete(e),s})}},ut=async()=>{if(ve){ye(!0);try{await ee(ve),await Z(),be(!1),je(null),(null==p?void 0:p.id)===ve&&m("/agents")}catch(e){alert(e.message||"Failed to delete agent. Please try again.")}finally{ye(!1)}}},gt=()=>{be(!1),je(null)},pt=async()=>{if(!De.trim()||_e)return;const e=De.trim(),t=Date.now();if(t-Be.current<1e3)return;const s=`user-${e}-${Math.floor(t/1e3)}`;if(Re.current.has(s))Ie("");else{Re.current.add(s),Be.current=t,setTimeout(()=>{Re.current.delete(s)},1e4),Ie(""),Oe(!0);try{const s={id:`user-chat-${t}-${Math.random()}`,text:e,isUser:!0,timestamp:new Date,source:"chat"};if(Me(e=>[...e,s]),Ye&&"connected"===Fe){const t=window.LivekitClient,s=JSON.stringify({type:"chat",text:e,timestamp:(new Date).toISOString(),source:"typed"}),a=(new TextEncoder).encode(s);await Ye.localParticipant.publishData(a,t.DataPacket_Kind.RELIABLE)}else setTimeout(()=>{const e=["I understand you're looking for help. Let me assist you with that based on my training and configuration.","Thank you for your message. As an AI Employee, I'm designed to help with various tasks in a professional manner.","I appreciate your question. Based on my role as your AI Employee, I'd be happy to provide assistance.","That's an interesting point. As your AI Employee, here's how I can help you.","I see what you're asking about. As an AI Employee, I'm here to provide helpful, accurate information."],t={id:`fallback-${Date.now()}-${Math.random()}`,text:e[Math.floor(Math.random()*e.length)],isUser:!1,timestamp:new Date,source:"chat"};Me(e=>[...e,t]),Oe(!1)},1e3+2e3*Math.random())}catch(a){Oe(!1)}}},ft=e.useCallback(async()=>{try{if(qe(!0),ct("ðŸŽ¤ Requesting microphone access..."),ze("connecting"),Ke("Initializing call..."),!window.isSecureContext)throw new Error("HTTPS required for microphone access");try{(await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!1,channelCount:1,sampleRate:48e3,sampleSize:16}})).getTracks().forEach(e=>e.stop()),ct("âœ… Microphone access granted")}catch(e){const t=e instanceof Error?e.message:"Unknown error";throw new Error(`Microphone access denied: ${t}`)}const t=null==p?void 0:p.id;if(!t)throw new Error("Agent ID not found");ct("ðŸ”— Getting LiveKit token...");const s=`admin_test_${Date.now()}`,a=await fetch("https://python.service.callshivai.com/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({agent_id:t,language:"en-US",call_id:s,device:"desktop",user_agent:navigator.userAgent})});if(!a.ok){const e=await a.text();throw new Error(`Failed to get LiveKit token: ${a.status} - ${e}`)}const n=await a.json();if(ct("ðŸ”— Connecting to LiveKit..."),void 0===window.LivekitClient){ct("ðŸ“¦ Loading LiveKit SDK...");const e=document.createElement("script");e.src="https://unpkg.com/livekit-client@latest/dist/livekit-client.umd.js",e.onload=()=>{bt(n)},e.onerror=()=>{throw new Error("Failed to load LiveKit SDK")},document.head.appendChild(e)}else await bt(n)}catch(t){ct(`âŒ Error: ${t instanceof Error?t.message:"Unknown error"}`),ze("disconnected"),Ke("Connection failed"),qe(!1),Qe(!1)}},[p]),bt=e.useCallback(async e=>{try{const t=window.LivekitClient,s=new t.Room({adaptiveStream:!0,dynacast:!0,audioCaptureDefaults:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,suppressLocalAudioPlayback:!0},publishDefaults:{audioPreset:t.AudioPresets.speech,dtx:!0,red:!1,simulcast:!1}});s.on(t.RoomEvent.TrackSubscribed,e=>{if(e.kind===t.Track.Kind.Audio){const t=e.attach();t.volume=.4,t.autoplay=!0,document.body.appendChild(t),t.play().catch(e=>{})}}),s.on(t.RoomEvent.DataReceived,(e,t)=>{var a,n;try{const l=(new TextDecoder).decode(e);if(!l||0===l.trim().length)return;if(["subscribed","connected","disconnected","enabled","disabled","true","false"].some(e=>l.toLowerCase()===e))return;try{const e=JSON.parse(l);let n="";const r=["text","transcript","message","content","response"];for(const t of r)if(e[t]&&"string"==typeof e[t]&&e[t].trim()){n=e[t].trim();break}if(n){const e=(null==t?void 0:t.identity)===(null==(a=s.localParticipant)?void 0:a.identity),r=`${e?"user":"ai"}-${n}-${Math.floor(Date.now()/2e3)}`;if(Re.current.has(r))return;Re.current.add(r),setTimeout(()=>Re.current.delete(r),5e3),Me(t=>[...t,{id:`${Date.now()}-${Math.random()}`,text:n,isUser:e,timestamp:new Date,source:"voice"}]),e||Oe(!1)}}catch(r){if(l.length>=2&&l.length<=1e3){const e=(null==t?void 0:t.identity)===(null==(n=s.localParticipant)?void 0:n.identity),a=`${e?"user":"ai"}-${l.trim()}-${Math.floor(Date.now()/2e3)}`;if(Re.current.has(a))return;Re.current.add(a),setTimeout(()=>Re.current.delete(a),5e3),Me(t=>[...t,{id:`${Date.now()}-${Math.random()}`,text:l.trim(),isUser:e,timestamp:new Date,source:"voice"}]),e||Oe(!1)}}}catch(l){}}),"function"==typeof s.registerTextStreamHandler&&(s.registerTextStreamHandler("lk.transcription",async(e,t)=>{var a;try{const n=await e.readAll();if(n&&n.trim()){const e=t.identity===(null==(a=s.localParticipant)?void 0:a.identity),r=`${e?"user":"ai"}-transcription-${n.trim()}-${Math.floor(Date.now()/2e3)}`;if(Re.current.has(r))return;Re.current.add(r),setTimeout(()=>Re.current.delete(r),5e3),Me(t=>[...t,{id:`transcription-${Date.now()}-${Math.random()}`,text:n.trim(),isUser:e,timestamp:new Date,source:"voice"}]),e||Oe(!1)}}catch(n){}}),s.registerTextStreamHandler("lk.chat",async(e,t)=>{var a;try{const n=await e.readAll();if(!(t.identity===(null==(a=s.localParticipant)?void 0:a.identity))&&n&&n.trim()){const e=`ai-chat-${n.trim()}-${Math.floor(Date.now()/2e3)}`;if(Re.current.has(e))return;Re.current.add(e),setTimeout(()=>Re.current.delete(e),5e3),Me(e=>[...e,{id:`chat-${Date.now()}-${Math.random()}`,text:n.trim(),isUser:!1,timestamp:new Date,source:"chat"}]),Oe(!1)}}catch(n){}})),s.on(t.RoomEvent.ParticipantMetadataChanged,(e,t)=>{var a;if(e)try{const n=JSON.parse(e);if(n.transcript||n.text){const e=(null==t?void 0:t.identity)===(null==(a=s.localParticipant)?void 0:a.identity);Me(t=>[...t,{id:`metadata-${Date.now()}`,text:n.transcript||n.text,isUser:e,timestamp:new Date,source:"voice"}]),e||Oe(!1)}}catch(n){}}),s.on(t.RoomEvent.RoomMetadataChanged,e=>{if(e)try{const t=JSON.parse(e);(t.transcript||t.text)&&(Me(e=>[...e,{id:`room-metadata-${Date.now()}`,text:t.transcript||t.text,isUser:!1,timestamp:new Date,source:"voice"}]),Oe(!1))}catch(t){}}),s.on(t.RoomEvent.Connected,async()=>{Qe(!0),qe(!1),Se(!0),ze("connected"),ct("ðŸŸ¢ Connected! You can now speak with the agent."),Ke("âœ… Connected - Speak now!");const e=setInterval(()=>{Le(e=>e+1)},1e3);Ae(e);try{await s.localParticipant.setMicrophoneEnabled(!0,{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}),ot(!0)}catch(t){}}),s.on(t.RoomEvent.Disconnected,()=>{Qe(!1),qe(!1),Se(!1),ze("disconnected"),ct("ðŸ”´ Disconnected"),Ke("âŒ Disconnected"),Xe(null),Pe&&(clearInterval(Pe),Ae(null)),Le(0)}),await s.connect(e.url,e.token),Xe(s)}catch(t){ct(`âŒ Connection failed: ${t instanceof Error?t.message:"Unknown error"}`),ze("disconnected"),Ke("Connection failed"),qe(!1),Qe(!1)}},[p,Pe]),vt=e.useCallback(async()=>{if(Ye)try{await Ye.disconnect()}catch(e){}Qe(!1),qe(!1),Se(!1),ze("disconnected"),ct("ðŸ“ž Call ended"),Ke("Ready to connect"),Xe(null),ot(!1),Pe&&(clearInterval(Pe),Ae(null)),Le(0),Me(e=>[...e,{id:`disconnect-${Date.now()}`,text:"Call ended",isUser:!1,timestamp:new Date,source:"system"}])},[Ye,Pe]),jt=e.useCallback(async()=>{if(Ye&&Ve)try{const e=!Ge;await Ye.localParticipant.setMicrophoneEnabled(!e),We(e),ot(!e)}catch(e){}},[Ye,Ve,Ge]),wt=e.useCallback(async()=>{if(p)try{await navigator.mediaDevices.getUserMedia({audio:!0});const e=await fetch("https://python.service.callshivai.com/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({agent_id:p.id,language:"en-US",call_id:`test_${Date.now()}`,device:"desktop",user_agent:navigator.userAgent})});if(e.ok){await e.json();alert("âœ… Connection test passed! Token server is working. Try starting the call again.")}else alert(`âŒ Token server error: ${e.status}. The voice service may be temporarily unavailable.`)}catch(e){e instanceof Error&&"NotAllowedError"===e.name?alert("âŒ Microphone permission denied. Please allow microphone access and try again."):e instanceof Error&&e.message.includes("fetch")?alert("âŒ Cannot reach voice service. Please check your internet connection."):alert(`âŒ Connection test failed: ${e instanceof Error?e.message:"Unknown error"}`)}else alert("No agent selected")},[p]),yt=ft,kt=vt,Nt=jt,Ct=e=>{const t=e%60;return`${Math.floor(e/60).toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`},St=se?g.filter(e=>{const t=e.name.toLowerCase().includes(de.toLowerCase()),s="Published"===e.status||e.is_active,a="all"===me||(s?"live":"pending")===me.toLowerCase();return t&&a}):[];return le?t.jsxs("div",{className:"space-y-4 lg:space-y-6 w-full max-w-full overflow-hidden",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[t.jsxs("div",{className:"grid grid-cols-3 gap-2 lg:gap-4 flex-1",children:[t.jsxs("div",{className:"bg-white/50 flex items-center justify-center gap-1.5 dark:bg-slate-800/50 rounded-lg px-2 lg:px-6 py-2 lg:py-2 text-center shadow-sm transition-all duration-200 hover:shadow-md",children:[t.jsx("p",{className:"text-base lg:text-2xl font-bold text-slate-800 dark:text-white",children:se?g.length:0}),t.jsx("p",{className:"text-[10px] lg:text-sm font-medium text-slate-600 dark:text-slate-400",children:"Total"})]}),t.jsxs("div",{className:"bg-white/50 flex items-center justify-center gap-1.5 dark:bg-slate-800/50 rounded-lg px-2 lg:px-6 py-2 lg:py-2 text-center shadow-sm transition-all duration-200 hover:shadow-md",children:[t.jsx("p",{className:"text-base lg:text-2xl font-bold text-green-600 dark:text-green-400",children:se?g.filter(e=>"Published"===e.status||e.is_active).length:0}),t.jsx("p",{className:"text-[10px] lg:text-sm font-medium text-slate-600 dark:text-slate-400",children:"Live"})]}),t.jsxs("div",{className:"bg-white/50 flex items-center justify-center gap-1.5 dark:bg-slate-800/50 rounded-lg px-2 lg:px-6 py-2 lg:py-2 text-center shadow-sm transition-all duration-200 hover:shadow-md",children:[t.jsx("p",{className:"text-base lg:text-2xl font-bold text-orange-600 dark:text-orange-400",children:se?g.filter(e=>"Published"!==e.status&&!e.is_active).length:0}),t.jsx("p",{className:"text-[10px] lg:text-sm font-medium text-slate-600 dark:text-slate-400",children:"Pending"})]})]}),t.jsxs("button",{onClick:()=>se&&m("/agents/create"),disabled:!se,className:"flex items-center justify-center gap-2 px-4 lg:px-6 py-2.5 lg:py-3 rounded-xl transition-all duration-200 shadow-sm whitespace-nowrap "+(se?"common-button-bg transform hover:scale-[1.02] active:scale-[0.98] cursor-pointer":"bg-gray-400 dark:bg-gray-600 text-gray-200 dark:text-gray-300 cursor-not-allowed opacity-50"),children:[t.jsx(w,{className:"w-4 h-4 lg:w-5 lg:h-5"}),t.jsx("span",{className:"text-sm lg:text-base font-medium",children:"Create AI Employee"})]})]}),t.jsx(d,{children:t.jsxs("div",{className:"p-4 lg:p-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400 z-10"}),t.jsx("input",{type:"text",placeholder:"Search agents...",value:de,onChange:e=>ce(e.target.value),className:"w-full pl-10 pr-4 py-2.5 lg:py-3 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500/20 text-slate-800 dark:text-white text-sm transition-all duration-200"})]}),t.jsx("div",{className:"hidden lg:block min-w-[180px]",children:t.jsx(c,{options:[{value:"all",label:"All Status"},{value:"published",label:"Published"},{value:"draft",label:"Draft"},{value:"training",label:"Training"}],value:me,onChange:e=>xe(e),placeholder:"Filter by status..."})}),t.jsx("button",{className:"lg:hidden flex items-center justify-center common-button-bg2 p-2.5 rounded-lg active:scale-95",children:t.jsx(f,{className:"w-4 h-4"})})]}),(de||"all"!==me)&&t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3 pt-3 border-t border-slate-200 dark:border-slate-700",children:[t.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Active filters:"}),de&&t.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-xs flex items-center gap-1",children:['"',de,'"',t.jsx("button",{onClick:()=>ce(""),className:"hover:bg-blue-200 dark:hover:bg-blue-800/50 rounded-full p-0.5",children:"âœ•"})]}),"all"!==me&&t.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded-full text-xs flex items-center gap-1",children:["Status: ",me,t.jsx("button",{onClick:()=>xe("all"),className:"hover:bg-green-200 dark:hover:bg-green-800/50 rounded-full p-0.5",children:"âœ•"})]}),t.jsx("button",{onClick:()=>{ce(""),xe("all")},className:"text-xs text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 underline",children:"Clear all"})]})]})}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:St.map(e=>t.jsx(d,{hover:!0,children:t.jsxs("div",{className:"p-4 sm:p-5 lg:p-6",children:[t.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[t.jsx("div",{className:"w-10 sm:w-12 h-10 sm:h-12 common-bg-icons rounded-xl flex items-center justify-center flex-shrink-0",children:t.jsx(k,{className:"w-5 sm:w-6 h-5 sm:h-6 text-slate-900 dark:text-slate-100"})}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white text-sm sm:text-base truncate",children:e.name}),t.jsxs("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400 truncate",children:[e.language," â€¢ ",e.persona]})]}),t.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium flex-shrink-0 "+("Published"===e.status||e.is_active?"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400":"bg-orange-100 text-orange-700 dark:bg-orange-900/20 dark:text-orange-400"),children:"Published"===e.status||e.is_active?"Live":"Pending"})]})})]}),t.jsxs("div",{className:"space-y-2 mb-4 sm:mb-5",children:[t.jsxs("div",{className:"flex items-center justify-start text-xs sm:text-sm",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Voice:"}),t.jsx("span",{className:"text-slate-800 dark:text-white truncate ml-2 text-right",children:e.voice})]}),t.jsxs("div",{className:"flex items-center justify-start text-xs sm:text-sm",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Created:"}),t.jsx("span",{className:"text-slate-800 dark:text-white ml-2",children:e.createdAt.toLocaleDateString()})]})]}),t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsxs("button",{onClick:()=>m(`/agents/${e.id}`),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2.5 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-all duration-200 text-sm font-medium active:scale-[0.98]",children:[t.jsx(N,{className:"w-4 h-4"}),"View"]}),t.jsxs("button",{onClick:()=>m(`/agents/${e.id}/edit`),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-all duration-200 text-sm font-medium active:scale-[0.98]",children:[t.jsx(C,{className:"w-4 h-4"}),"Edit"]}),t.jsxs("button",{onClick:()=>m(`/agents/${e.id}/train`,{state:{from:"list"}}),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2.5 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 rounded-lg hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-all duration-200 text-sm font-medium active:scale-[0.98]",children:[t.jsx(S,{className:"w-4 h-4"}),"Train"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:["Published"===e.status?t.jsxs("button",{onClick:()=>ht(e.id),disabled:$e.has(e.id),className:"flex-1 flex items-center justify-center gap-1.5 common-button-bg2 transition-all duration-200 text-sm font-medium "+($e.has(e.id)?"opacity-50 cursor-not-allowed":"active:scale-[0.98]"),children:[$e.has(e.id)?t.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin"}):t.jsx(E,{className:"w-4 h-4"}),$e.has(e.id)?"Pausing...":"Pause"]}):t.jsxs("button",{onClick:()=>e.is_active?ht(e.id):xt(e.id),disabled:$e.has(e.id),className:`flex-1 flex items-center justify-center gap-1.5 transition-all duration-200 text-sm font-medium ${$e.has(e.id)?"opacity-50 cursor-not-allowed":"active:scale-[0.98]"} ${e.is_active?"common-button-bg2":"common-button-bg"}`,children:[$e.has(e.id)?t.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin"}):e.is_active?t.jsx(E,{className:"w-4 h-4"}):t.jsx(L,{className:"w-4 h-4"}),$e.has(e.id)?e.is_active?"Pausing...":"Publishing...":e.is_active?"Pause":"Publish"]}),t.jsx("button",{className:"p-2.5 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 active:scale-95",children:t.jsx(b,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>{return t=e.id,je(t),void be(!0);var t},className:"p-2.5 text-slate-400 hover:text-red-500 transition-colors rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 active:scale-95",title:"Delete agent",children:t.jsx(P,{className:"w-4 h-4"})})]})]})},e.id))}),0===St.length&&t.jsxs("div",{className:"text-center py-12 lg:py-16 px-4",children:[t.jsx(k,{className:"w-20 lg:w-24 h-20 lg:h-24 text-slate-300 dark:text-slate-600 mx-auto mb-6"}),t.jsx("h3",{className:"text-xl lg:text-2xl font-medium text-slate-600 dark:text-slate-400 mb-3",children:de||"all"!==me?"No agents found":"No agents created yet"}),t.jsx("p",{className:"text-sm lg:text-base text-slate-500 dark:text-slate-500 max-w-md lg:max-w-lg mx-auto mb-6 leading-relaxed",children:de||"all"!==me?"Try adjusting your search or filter criteria to find what you're looking for":"Create your first AI agent to get started with automated conversations and boost your business efficiency"}),!de&&"all"===me&&se&&t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:()=>m("/agents/create"),className:"w-full sm:w-auto common-button-bg px-6 py-3 rounded-xl shadow-sm hover:shadow-md transform hover:scale-[1.02] active:scale-[0.98]",children:"Create Your First Agent"}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-400 dark:text-slate-500",children:"Get started in just 2 minutes âš¡"})]}),(de||"all"!==me)&&t.jsx("button",{onClick:()=>{ce(""),xe("all")},className:"w-full sm:w-auto common-button-bg2 px-6 py-2.5 rounded-lg",children:"Clear Filters"})]}),fe&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:t.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl w-full max-w-md shadow-xl border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-red-100 dark:bg-red-900/20 rounded-full mx-auto mb-4",children:t.jsx(P,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),t.jsx("h3",{className:"text-xl font-semibold text-slate-800 dark:text-white text-center mb-2",children:"Delete Agent?"}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 text-center mb-6",children:"Are you sure you want to delete this agent? This action cannot be undone and all associated data will be permanently removed."}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:gt,disabled:we,className:"flex-1 px-4 py-2.5 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-xl hover:bg-slate-200 dark:hover:bg-slate-700 transition-all duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),t.jsx("button",{onClick:ut,disabled:we,className:"flex-1 px-4 py-2.5 bg-red-600 hover:bg-red-700 text-white rounded-xl transition-all duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:we?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),t.jsx("span",{children:"Deleting..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(P,{className:"w-4 h-4"}),t.jsx("span",{children:"Delete"})]})})]})]})})})]}):re&&p?t.jsxs("div",{className:"space-y-3 sm:space-y-4 lg:space-y-6 w-full",children:[t.jsx(d,{children:t.jsx("div",{className:"p-4 sm:p-6",children:t.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4 sm:flex-row sm:items-start sm:justify-between",children:[t.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 lg:gap-4 min-w-0 flex-1",children:[t.jsx("button",{onClick:()=>m("/agents"),className:"common-button-bg2 p-1.5 sm:p-2.5 rounded-lg sm:rounded-xl flex-shrink-0 touch-manipulation",children:t.jsx(A,{className:"w-4 sm:w-5 h-4 sm:h-5 text-slate-600 dark:text-slate-300"})}),t.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 lg:gap-4 min-w-0 flex-1",children:[t.jsx("div",{className:"w-10 h-10 sm:w-14 sm:h-14 lg:w-16 lg:h-16 common-bg-icons flex items-center justify-center flex-shrink-0 rounded-lg sm:rounded-xl",children:t.jsx(k,{className:"w-5 h-5 sm:w-7 sm:h-7 lg:w-8 lg:h-8 text-black dark:text-white"})}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsx("div",{className:"flex flex-col gap-1.5 sm:gap-2 sm:flex-row sm:items-start sm:justify-between",children:t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("h1",{className:"text-base sm:text-xl lg:text-2xl font-bold text-slate-800 dark:text-white leading-tight truncate",children:p.name}),t.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 sm:gap-x-3 gap-y-1 text-xs sm:text-sm text-slate-600 dark:text-slate-400 mt-1",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(T,{className:"w-3 h-3 sm:w-4 sm:h-4"}),t.jsx("span",{className:"truncate text-xs sm:text-sm",children:p.language})]}),t.jsx("div",{className:"flex items-center gap-1",children:t.jsx("span",{className:"px-2 py-0.5 sm:px-3 sm:py-1 rounded-full text-xs font-medium flex-shrink-0 "+("Published"===p.status||p.is_active?"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400":"bg-orange-100 text-orange-700 dark:bg-orange-900/20 dark:text-orange-400"),children:"Published"===p.status||p.is_active?"Live":"Pending"})})]})]})})})]})]}),t.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 lg:gap-3 flex-shrink-0",children:[t.jsxs("button",{onClick:()=>m(`/agents/${p.id}/edit`),className:"flex-1 sm:flex-none common-button-bg2 flex items-center justify-center gap-1 sm:gap-2 px-2 sm:px-3 lg:px-4 py-1.5 sm:py-2 lg:py-2.5 rounded-lg sm:rounded-xl touch-manipulation min-h-[36px] sm:min-h-[40px]",children:[t.jsx(C,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),t.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Edit"})]}),("Published"===p.status||p.is_active)&&t.jsxs("button",{onClick:()=>ue(!0),className:"flex-none common-button-bg2 flex items-center justify-center gap-1 sm:gap-2 px-2 sm:px-3 lg:px-4 py-1.5 sm:py-2 lg:py-2.5 rounded-lg sm:rounded-xl touch-manipulation min-h-[36px] sm:min-h-[40px]",children:[t.jsx(K,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),t.jsx("span",{className:"hidden sm:inline text-xs sm:text-sm font-medium",children:"QR"})]}),"Published"===p.status?t.jsxs("button",{onClick:()=>ht(p.id),disabled:$e.has(p.id),className:"flex-none common-button-bg2 flex items-center justify-center gap-1 sm:gap-2 px-2 sm:px-3 lg:px-4 py-1.5 sm:py-2 lg:py-2.5 rounded-lg sm:rounded-xl touch-manipulation min-h-[36px] sm:min-h-[40px] "+($e.has(p.id)?"opacity-50 cursor-not-allowed":""),children:[$e.has(p.id)?t.jsx("div",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin"}):t.jsx(E,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),t.jsx("span",{className:"text-xs sm:text-sm font-medium",children:$e.has(p.id)?"...":"Pause"})]}):t.jsxs("button",{onClick:()=>p.is_active?ht(p.id):xt(p.id),disabled:$e.has(p.id),className:`flex-none flex items-center justify-center gap-1 sm:gap-2 px-2 sm:px-3 lg:px-4 py-1.5 sm:py-2 lg:py-2.5 rounded-lg sm:rounded-xl touch-manipulation min-h-[36px] sm:min-h-[40px] ${$e.has(p.id)?"opacity-50 cursor-not-allowed":""} ${p.is_active?"common-button-bg2":"common-button-bg"}`,children:[$e.has(p.id)?t.jsx("div",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin"}):p.is_active?t.jsx(E,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}):t.jsx(L,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),t.jsx("span",{className:"text-xs sm:text-sm font-medium",children:$e.has(p.id)?"...":p.is_active?"Pause":"Publish"})]})]})]})})}),t.jsxs("div",{className:"lg:hidden grid grid-cols-2 gap-2",children:[t.jsx(d,{className:"hover:shadow-md transition-all duration-200",children:t.jsx("div",{className:"p-2",children:t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx("div",{className:"w-7 h-7 bg-blue-50 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:t.jsx(M,{className:"w-3.5 h-3.5 text-blue-600 dark:text-blue-400"})}),t.jsx("p",{className:"text-base font-bold text-slate-800 dark:text-white",children:p.stats.conversations.toLocaleString()}),t.jsx("p",{className:"text-[10px] text-slate-600 dark:text-slate-400",children:"Conversations"}),p.stats.conversations>0?t.jsx("span",{className:"text-[10px] font-medium text-green-600 dark:text-green-400",children:"+12%"}):t.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-500",children:"No data"})]})})}),t.jsx(d,{className:"hover:shadow-md transition-all duration-200",children:t.jsx("div",{className:"p-2",children:t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx("div",{className:"w-7 h-7 bg-green-50 dark:bg-green-900/20 rounded-lg flex items-center justify-center",children:t.jsx(D,{className:"w-3.5 h-3.5 text-green-600 dark:text-green-400"})}),t.jsxs("p",{className:"text-base font-bold text-slate-800 dark:text-white",children:[p.stats.successRate,"%"]}),t.jsx("p",{className:"text-[10px] text-slate-600 dark:text-slate-400",children:"Success Rate"}),p.stats.successRate>0?t.jsx("span",{className:"text-[10px] font-medium text-green-600 dark:text-green-400",children:"+2.1%"}):t.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-500",children:"No data"})]})})}),t.jsx(d,{className:"hover:shadow-md transition-all duration-200",children:t.jsx("div",{className:"p-2",children:t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx("div",{className:"w-7 h-7 bg-purple-50 dark:bg-purple-900/20 rounded-lg flex items-center justify-center",children:t.jsx(I,{className:"w-3.5 h-3.5 text-purple-600 dark:text-purple-400"})}),t.jsxs("p",{className:"text-base font-bold text-slate-800 dark:text-white",children:[p.stats.avgResponseTime,"s"]}),t.jsx("p",{className:"text-[10px] text-slate-600 dark:text-slate-400",children:"Avg Response"}),p.stats.avgResponseTime>0?t.jsx("span",{className:"text-[10px] font-medium text-green-600 dark:text-green-400",children:"-0.3s"}):t.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-500",children:"No data"})]})})}),t.jsx(d,{className:"hover:shadow-md transition-all duration-200",children:t.jsx("div",{className:"p-2",children:t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx("div",{className:"w-7 h-7 bg-orange-50 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:t.jsx(R,{className:"w-3.5 h-3.5 text-orange-600 dark:text-orange-400"})}),t.jsx("p",{className:"text-base font-bold text-slate-800 dark:text-white",children:p.stats.activeUsers}),t.jsx("p",{className:"text-[10px] text-slate-600 dark:text-slate-400",children:"Active Users"}),p.stats.activeUsers>0?t.jsx("span",{className:"text-[10px] font-medium text-green-600 dark:text-green-400",children:"+8%"}):t.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-500",children:"No data"})]})})})]}),t.jsxs("div",{className:"hidden lg:grid grid-cols-4 gap-4",children:[t.jsx(d,{className:"hover:shadow-lg transition-all duration-300",children:t.jsxs("div",{className:"p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-50 dark:bg-blue-900/20 rounded-xl flex items-center justify-center",children:t.jsx(M,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:p.stats.conversations.toLocaleString()}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Conversations"})]})]}),t.jsx("div",{className:"flex items-center gap-1",children:p.stats.conversations>0?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"+12%"}),t.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-500",children:"this week"})]}):t.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-500",children:"No data yet"})})]})}),t.jsx(d,{className:"hover:shadow-lg transition-all duration-300",children:t.jsxs("div",{className:"p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-green-50 dark:bg-green-900/20 rounded-xl flex items-center justify-center",children:t.jsx(D,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:[p.stats.successRate,"%"]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Success Rate"})]})]}),t.jsx("div",{className:"flex items-center gap-1",children:p.stats.successRate>0?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"+2.1%"}),t.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-500",children:"improved"})]}):t.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-500",children:"No data yet"})})]})}),t.jsx(d,{className:"hover:shadow-lg transition-all duration-300",children:t.jsxs("div",{className:"p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-purple-50 dark:bg-purple-900/20 rounded-xl flex items-center justify-center",children:t.jsx(I,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:[p.stats.avgResponseTime,"s"]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Avg Response"})]})]}),t.jsx("div",{className:"flex items-center gap-1",children:p.stats.avgResponseTime>0?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"-0.3s"}),t.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-500",children:"faster"})]}):t.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-500",children:"No data yet"})})]})}),t.jsx(d,{className:"hover:shadow-lg transition-all duration-300",children:t.jsxs("div",{className:"p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-orange-50 dark:bg-orange-900/20 rounded-xl flex items-center justify-center",children:t.jsx(R,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:p.stats.activeUsers}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Active Users"})]})]}),t.jsx("div",{className:"flex items-center gap-1",children:p.stats.activeUsers>0?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"+8%"}),t.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-500",children:"today"})]}):t.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-500",children:"No data yet"})})]})})]}),t.jsx("div",{className:"grid grid-cols-1 gap-3 sm:gap-4 lg:gap-6",children:t.jsx("div",{className:"order-1 lg:order-1",children:t.jsx(d,{children:t.jsxs("div",{className:"p-2 sm:p-3",children:[t.jsxs("div",{className:"flex flex-row sm:items-center sm:justify-between gap-2 mb-2",children:[t.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[t.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-slate-50 dark:bg-slate-800 rounded-lg flex items-center justify-center",children:t.jsx(B,{className:"w-3 h-3 text-slate-600 dark:text-slate-400"})}),t.jsx("h3",{className:"text-xs sm:text-sm font-semibold text-slate-800 dark:text-white",children:"Configuration"})]}),("Published"===p.status||p.is_active)&&t.jsxs("button",{onClick:()=>pe(!0),className:"flex items-center justify-center gap-1.5 sm:gap-2 px-3 py-1.5 sm:py-2 border border-1 dark:bg-green-900/20 text-black dark:text-green-300 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-all duration-200 text-xs sm:text-sm font-medium shadow-sm hover:shadow-md self-start",children:[t.jsx(L,{className:"w-3 h-3 sm:w-4 sm:h-4"}),t.jsx("span",{children:"Test"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("div",{className:"p-2 bg-slate-50 border dark:bg-slate-800/50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[t.jsx(T,{className:"w-3 h-3 text-blue-600 dark:text-blue-400"}),t.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Language"})]}),t.jsx("p",{className:"text-sm font-semibold text-slate-800 dark:text-white",children:p.language})]}),t.jsxs("div",{className:"p-2 bg-slate-50 border dark:bg-slate-800/50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[t.jsx(M,{className:"w-3 h-3 text-purple-600 dark:text-purple-400"}),t.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Voice"})]}),t.jsx("p",{className:"text-sm font-semibold text-slate-800 dark:text-white",children:p.voice})]}),t.jsxs("div",{className:"p-2 bg-slate-50 border dark:bg-slate-800/50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[t.jsx(R,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),t.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Persona"})]}),t.jsx("p",{className:"text-sm font-semibold text-slate-800 dark:text-white",children:p.persona})]}),t.jsxs("div",{className:"p-2 bg-slate-50 border dark:bg-slate-800/50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[t.jsx(I,{className:"w-3 h-3 text-orange-600 dark:text-orange-400"}),t.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Created"})]}),t.jsx("p",{className:"text-sm font-semibold text-slate-800 dark:text-white",children:p.createdAt.toLocaleDateString()})]})]})]})})})}),t.jsx("div",{className:"mt-3 sm:mt-4 lg:mt-6",children:t.jsx(q,{agentId:p.id,agentName:p.name,isPublished:!0})}),("Published"===p.status||p.is_active)&&t.jsx("div",{className:"mt-4 sm:mt-6",children:t.jsx(V,{currentAgent:p})}),he&&p&&t.jsx(tt,{agent:p,onClose:()=>ue(!1)}),fe&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:t.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl w-full max-w-md shadow-xl border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-red-100 dark:bg-red-900/20 rounded-full mx-auto mb-4",children:t.jsx(P,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),t.jsx("h3",{className:"text-xl font-semibold text-slate-800 dark:text-white text-center mb-2",children:"Delete Agent?"}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 text-center mb-6",children:"Are you sure you want to delete this agent? This action cannot be undone and all associated data will be permanently removed."}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:gt,disabled:we,className:"flex-1 px-4 py-2.5 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-xl hover:bg-slate-200 dark:hover:bg-slate-700 transition-all duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),t.jsx("button",{onClick:ut,disabled:we,className:"flex-1 px-4 py-2.5 bg-red-600 hover:bg-red-700 text-white rounded-xl transition-all duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:we?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),t.jsx("span",{children:"Deleting..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(P,{className:"w-4 h-4"}),t.jsx("span",{children:"Delete"})]})})]})]})})}),t.jsxs("div",{className:"mt-4 sm:mt-6",children:[t.jsx("div",{className:"lg:hidden",children:t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx("button",{onClick:()=>m(`/agents/${p.id}/train`),className:"common-bg-icons hover:shadow-md transition-all duration-200 p-2 rounded-lg touch-manipulation group",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-7 h-7 bg-blue-50 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:t.jsx(_,{className:"w-3.5 h-3.5 text-blue-600 dark:text-blue-400"})}),t.jsx("p",{className:"text-xs font-medium text-slate-800 dark:text-white",children:"Train"})]})}),t.jsx("button",{onClick:()=>m(`/agents/${p.id}/edit`),className:"common-bg-icons hover:shadow-md transition-all duration-200 p-2 rounded-lg touch-manipulation group",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-7 h-7 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg flex items-center justify-center",children:t.jsx(C,{className:"w-3.5 h-3.5 text-yellow-600 dark:text-yellow-400"})}),t.jsx("p",{className:"text-xs font-medium text-slate-800 dark:text-white",children:"Edit"})]})}),t.jsx("button",{className:"common-bg-icons hover:shadow-md transition-all duration-200 p-2 rounded-lg touch-manipulation group",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-7 h-7 bg-green-50 dark:bg-green-900/20 rounded-lg flex items-center justify-center",children:t.jsx(b,{className:"w-3.5 h-3.5 text-green-600 dark:text-green-400"})}),t.jsx("p",{className:"text-xs font-medium text-slate-800 dark:text-white",children:"Clone"})]})}),t.jsx("button",{className:"common-bg-icons hover:shadow-md transition-all duration-200 p-2 rounded-lg touch-manipulation group",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-7 h-7 bg-purple-50 dark:bg-purple-900/20 rounded-lg flex items-center justify-center",children:t.jsx(O,{className:"w-3.5 h-3.5 text-purple-600 dark:text-purple-400"})}),t.jsx("p",{className:"text-xs font-medium text-slate-800 dark:text-white",children:"Export"})]})})]})}),t.jsx("div",{className:"hidden lg:block",children:t.jsx(d,{children:t.jsxs("div",{className:"p-3 sm:p-4 lg:p-6",children:[t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[t.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-slate-50 dark:bg-slate-800 rounded-lg sm:rounded-xl flex items-center justify-center",children:t.jsx(S,{className:"w-3 h-3 sm:w-4 sm:h-4 text-slate-600 dark:text-slate-400"})}),t.jsx("h3",{className:"text-sm sm:text-base lg:text-lg font-semibold text-slate-800 dark:text-white",children:"Quick Actions"})]}),t.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-2 sm:gap-3",children:[t.jsx("button",{onClick:()=>m(`/agents/${p.id}/train`),className:"common-bg-icons hover:shadow-md transition-all duration-200 p-3 sm:p-4 rounded-lg touch-manipulation group",children:t.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-3",children:[t.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-50 dark:bg-blue-900/20 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:t.jsx(_,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 dark:text-blue-400"})}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-sm sm:text-base font-medium text-slate-800 dark:text-white",children:"Train Agent"}),t.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Improve responses"})]})]})}),t.jsx("button",{onClick:()=>m(`/agents/${p.id}/edit`),className:"common-bg-icons hover:shadow-md transition-all duration-200 p-3 sm:p-4 rounded-lg touch-manipulation group",children:t.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-3",children:[t.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:t.jsx(C,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-600 dark:text-yellow-400"})}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-sm sm:text-base font-medium text-slate-800 dark:text-white",children:"Edit Agent"}),t.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Modify settings"})]})]})}),t.jsx("button",{className:"common-bg-icons hover:shadow-md transition-all duration-200 p-3 sm:p-4 rounded-lg touch-manipulation group",children:t.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-3",children:[t.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-green-50 dark:bg-green-900/20 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:t.jsx(b,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600 dark:text-green-400"})}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-sm sm:text-base font-medium text-slate-800 dark:text-white",children:"Clone Agent"}),t.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Create duplicate"})]})]})}),t.jsx("button",{className:"common-bg-icons hover:shadow-md transition-all duration-200 p-3 sm:p-4 rounded-lg touch-manipulation group",children:t.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-3",children:[t.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-purple-50 dark:bg-purple-900/20 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:t.jsx(O,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600 dark:text-purple-400"})}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-sm sm:text-base font-medium text-slate-800 dark:text-white",children:"Export Data"}),t.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Download config"})]})]})})]})]})})})]}),ge&&p&&"Published"===p.status&&t.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-[60] flex items-center justify-center p-3 sm:p-4 -top-8",children:t.jsxs("div",{className:"bg-white/95 dark:bg-slate-900/95 backdrop-blur-md rounded-2xl w-full max-w-2xl h-[80vh] max-h-[600px] relative flex flex-col shadow-xl border border-white/20 dark:border-slate-700/50",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200/50 dark:border-slate-700/50",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),t.jsxs("h3",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:["Test ",p.name]})]}),t.jsx("button",{onClick:async()=>{if(Ye)try{await Ye.disconnect()}catch(e){}pe(!1),Se(!1),ot(!1),ze("disconnected"),Ke("Ready to connect"),Pe&&(clearInterval(Pe),Ae(null)),Le(0),Ne("call")},className:"w-8 h-8 flex items-center justify-center hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:t.jsx(v,{className:"w-4 h-4 text-slate-400"})})]}),t.jsx("div",{className:"flex border-b border-slate-200/50 dark:border-slate-700/50",children:[{id:"call",label:"Voice",icon:$},{id:"conversation",label:"Conversation",icon:M}].map(({id:e,label:s,icon:a})=>t.jsxs("button",{onClick:()=>Ne(e),className:"flex-1 flex items-center justify-center gap-2 py-3 text-xs font-medium transition-colors "+(ke===e?"text-slate-900 dark:text-white border-b-2 border-slate-900 dark:border-white bg-slate-50/50 dark:bg-slate-800/50":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"),children:[t.jsx(a,{className:"w-4 h-4"}),t.jsx("span",{children:s})]},e))}),t.jsxs("div",{className:"flex-1 overflow-hidden",children:["call"===ke&&t.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-6",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mb-4 mx-auto transition-all "+("connected"===Fe?"bg-green-100 dark:bg-green-900/20":"connecting"===Fe?"bg-yellow-100 dark:bg-yellow-900/20 animate-pulse":"bg-slate-100 dark:bg-slate-800/50"),children:t.jsx($,{className:"w-8 h-8 "+("connected"===Fe?"text-green-600 dark:text-green-400":"connecting"===Fe?"text-yellow-600 dark:text-yellow-400":"text-slate-400")})}),t.jsx("h3",{className:"text-lg font-medium text-slate-800 dark:text-white mb-1",children:"connected"===Fe?"Connected":"connecting"===Fe?"Connecting...":"Ready to Call"}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:He}),Ce&&t.jsx("p",{className:"text-sm font-mono text-slate-600 dark:text-slate-300 mt-2",children:Ct(Ee)})]}),t.jsx("div",{className:"flex items-center gap-3",children:Ce||Je?Ce?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:Nt,className:"p-3 rounded-xl transition-colors "+(Ge?"bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400":"bg-green-100 dark:bg-green-900/20 text-green-600 dark:text-green-400"),title:Ge?"Unmute":"Mute",children:Ge?t.jsx(z,{className:"w-5 h-5"}):t.jsx(U,{className:"w-5 h-5"})}),t.jsx("button",{onClick:kt,className:"p-3 bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-xl hover:bg-red-200 dark:hover:bg-red-900/40 transition-colors",title:"End Call",children:t.jsx($,{className:"w-5 h-5"})})]}):t.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 text-sm",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-slate-300 dark:border-slate-600 border-t-slate-900 dark:border-t-white rounded-full animate-spin"}),t.jsx("span",{children:"Connecting..."})]}):t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:yt,disabled:_e||Je,className:"flex items-center gap-2 px-6 py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl hover:bg-slate-800 dark:hover:bg-slate-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium",children:[t.jsx(H,{className:"w-4 h-4"}),Je?"Connecting...":"Start Call"]}),t.jsxs("button",{onClick:wt,className:"flex items-center gap-2 px-4 py-3 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 transition-colors text-sm",children:[t.jsx(B,{className:"w-4 h-4"}),"Test"]})]})}),Ce&&t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-500 dark:text-slate-400",children:[t.jsx("div",{className:"w-2 h-2 rounded-full "+(Ge?"bg-red-500":"bg-green-500")}),Ge?"Muted":"Listening"]})})]}),"conversation"===ke&&t.jsxs("div",{className:"h-full flex flex-col",children:[t.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[0===Te.length?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(M,{className:"w-8 h-8 text-slate-300 dark:text-slate-600 mx-auto mb-3"}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Start a conversation to see messages"})]}):Te.map(e=>t.jsx("div",{className:"flex mb-4 "+(e.isUser?"justify-end":"justify-start"),children:t.jsxs("div",{className:"flex gap-3 max-w-[80%] "+(e.isUser?"flex-row-reverse":""),children:[t.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 "+(e.isUser?"bg-blue-500 text-white":"bg-green-500 text-white"),children:e.isUser?t.jsx("span",{className:"text-sm font-medium",children:"U"}):t.jsx("span",{className:"text-sm font-medium",children:"AI"})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:e.isUser?"You":"AI Employee"}),t.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500",children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),e.source&&t.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full "+("voice"===e.source?"bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"),children:"voice"===e.source?"ðŸŽ™ï¸":"ðŸ’¬"})]}),t.jsx("div",{className:"px-4 py-2 rounded-2xl text-sm "+(e.isUser?"bg-blue-500 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-200"),children:e.text})]})]})},e.id)),_e&&t.jsx("div",{className:"flex justify-start mb-4",children:t.jsxs("div",{className:"flex gap-3 max-w-[80%]",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 text-white flex items-center justify-center flex-shrink-0",children:t.jsx("span",{className:"text-sm font-medium",children:"AI"})}),t.jsx("div",{className:"flex flex-col",children:t.jsx("div",{className:"px-4 py-2 rounded-2xl bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-200",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-pulse"}),t.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-pulse",style:{animationDelay:"0.1s"}}),t.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-pulse",style:{animationDelay:"0.2s"}})]})})})]})})]}),t.jsxs("div",{className:"p-4 border-t border-slate-200/50 dark:border-slate-700/50",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:De,onChange:e=>Ie(e.target.value),onKeyPress:e=>{"Enter"!==e.key||_e||pt()},placeholder:"connected"===Fe?"Type a message or use voice...":"Type a message...",className:"flex-1 px-3 py-2 bg-slate-50 dark:bg-slate-800 border-0 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-900/10 dark:focus:ring-white/10 text-slate-700 dark:text-slate-300 text-sm placeholder-slate-400 dark:placeholder-slate-500",disabled:_e}),t.jsx("button",{onClick:pt,disabled:!De.trim()||_e,className:"px-3 py-2 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-lg hover:bg-slate-800 dark:hover:bg-slate-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t.jsx(G,{className:"w-4 h-4"})})]}),"connected"===Fe&&t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2 text-center",children:"ðŸ”´ Live conversation â€¢ Voice and text messages"})]})]})]})]})})]}):t.jsxs("div",{className:"space-y-4 sm:space-y-6 w-full max-w-full overflow-visible",children:[t.jsx(d,{children:t.jsx("div",{className:"p-4 sm:p-6",children:t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[t.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 min-w-0 flex-1",children:[t.jsx("button",{onClick:()=>{window.history.length>1?m(-1):m("/agents")},className:"common-button-bg2 p-2 sm:p-2.5 rounded-xl flex-shrink-0 touch-manipulation",children:t.jsx(A,{className:"w-4 sm:w-5 h-4 sm:h-5 text-slate-600 dark:text-slate-300"})}),t.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 lg:gap-4 min-w-0 flex-1",children:[t.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 lg:w-20 lg:h-20 common-bg-icons flex items-center justify-center flex-shrink-0 rounded-xl",children:t.jsx(k,{className:"w-6 h-6 sm:w-8 sm:h-8 lg:w-10 lg:h-10 text-black dark:text-white"})}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("h1",{className:"text-lg sm:text-xl lg:text-2xl xl:text-3xl font-bold text-slate-800 dark:text-white leading-tight truncate",children:`Edit ${(null==p?void 0:p.name)||"Agent"}`}),t.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 text-xs sm:text-sm text-slate-600 dark:text-slate-400 mt-1 sm:mt-2",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(B,{className:"w-3 sm:w-4 h-3 sm:h-4"}),t.jsx("span",{className:"truncate",children:"Editing Configuration"})]}),p&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"hidden xs:flex items-center gap-1",children:[t.jsx(I,{className:"w-3 sm:w-4 h-3 sm:h-4"}),t.jsxs("span",{className:"truncate",children:["Created"," ",p.createdAt.toLocaleDateString()]})]}),t.jsxs("div",{className:"xs:hidden flex items-center gap-1",children:[t.jsx(I,{className:"w-3 sm:w-4 h-3 sm:h-4"}),t.jsx("span",{className:"truncate",children:p.createdAt.toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),t.jsx("div",{className:"flex items-center gap-1 mt-0 md:mt-2 lg:mt-0",children:t.jsx("span",{className:"px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium flex-shrink-0 self-start "+("Published"===p.status||p.is_active?"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400":"bg-orange-100 text-orange-700 dark:bg-orange-900/20 dark:text-orange-400"),children:"Published"===p.status||p.is_active?"Live":"Pending"})})]})]})]})})})]})]}),t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[t.jsx("button",{onClick:()=>{window.history.length>1?m(-1):m("/agents")},className:"flex-1 sm:flex-none common-button-bg2 flex items-center justify-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-xl touch-manipulation min-h-[40px]",children:t.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Cancel"})}),t.jsxs("button",{onClick:()=>{ie.name&&""!==ie.name.trim()?ae&&p&&(Q(p.id,{name:ie.name,persona:ie.persona,language:ie.language,voice:ie.voice}),m(`/agents/${p.id}`)):alert("Agent name is required. Please enter a name for your agent.")},className:"flex-1 sm:flex-none common-button-bg flex items-center justify-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-xl touch-manipulation min-h-[40px]",children:[t.jsx(u,{className:"w-3.5 sm:w-4 h-3.5 sm:h-4"}),t.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Save"})]})]})]})})}),t.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[1fr_380px] gap-4 sm:gap-6 lg:gap-8",children:[t.jsxs("div",{className:"space-y-4 sm:space-y-6 min-w-0",children:[t.jsx(d,{children:t.jsxs("div",{className:"p-4 sm:p-5 lg:p-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[t.jsx("div",{className:"w-8 h-8 common-bg-icons rounded-lg flex items-center justify-center",children:t.jsx(k,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),t.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-white",children:"Identity"})]}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600 dark:text-slate-400 mb-4 sm:mb-6",children:"Define your agent's basic identity and personality"}),t.jsx("div",{className:"space-y-4 sm:space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6",children:[t.jsxs("div",{className:"sm:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Agent Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:ie.name,onChange:e=>oe({...ie,name:e.target.value}),placeholder:"Enter a descriptive name for your agent",className:"common-bg-icons w-full px-3 sm:px-4 py-3 sm:py-3 rounded-xl text-slate-800 dark:text-white text-base sm:text-sm transition-all duration-200 touch-manipulation"}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 leading-relaxed",children:"Choose a clear, descriptive name that reflects your agent's purpose"})]}),t.jsx("div",{children:t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Select Gender ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(c,{options:[{value:"Female",label:"Female"},{value:"Male",label:"Male"},{value:"Non-binary",label:"Non-binary"},{value:"Other",label:"Other"}],value:ie.gender,onChange:e=>oe({...ie,gender:e}),placeholder:"Select gender...",groupBy:!0})]})}),t.jsxs("div",{className:"col-span-full",children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:["Persona ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[{value:"Friendly",label:"Friendly",desc:"Warm and approachable"},{value:"Formal",label:"Formal",desc:"Professional and structured"},{value:"Concise",label:"Concise",desc:"Brief and to the point"},{value:"Empathetic",label:"Empathetic",desc:"Understanding and caring"},{value:"Persuasive (Sales)",label:"Persuasive (Sales)",desc:"Convincing and goal-oriented"},{value:"Reassuring (Support)",label:"Reassuring (Support)",desc:"Calming and supportive"}].map(e=>t.jsxs("button",{onClick:()=>oe({...ie,persona:e.value}),className:"p-4 text-left border-2 rounded-xl transition-all duration-200 active:scale-[0.98] touch-manipulation "+(ie.persona===e.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 shadow-sm":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-800/50"),children:[t.jsx("div",{className:"font-medium text-slate-800 dark:text-white text-sm lg:text-base",children:e.label}),t.jsx("div",{className:"text-xs lg:text-sm text-slate-500 dark:text-slate-400 mt-1 leading-tight",children:e.desc})]},e.value))}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2 leading-relaxed",children:"Select the personality style that best fits your agent's role"})]})]})})]})}),t.jsx(d,{children:t.jsxs("div",{className:"p-4 sm:p-5 lg:p-6 z-[99] relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[t.jsx("div",{className:"w-8 h-8 common-bg-icons rounded-lg flex items-center justify-center",children:t.jsx(B,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),t.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-white",children:"Advanced Settings"})]}),t.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Custom Instructions"}),t.jsx("textarea",{value:ie.customInstructions,onChange:e=>oe({...ie,customInstructions:e.target.value}),placeholder:"Add specific instructions for your agent...",rows:4,className:"common-bg-icons w-full px-3 sm:px-4 py-3 rounded-xl resize-none text-sm sm:text-base transition-all duration-200"}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 leading-relaxed",children:"Provide specific guidelines, rules, or context for your agent's responses"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Response Style"}),t.jsx(c,{options:[{value:"Concise",label:"Concise"},{value:"Balanced",label:"Balanced"},{value:"Detailed",label:"Detailed"}],value:ie.responseStyle,onChange:e=>oe({...ie,responseStyle:e}),placeholder:"Select response style..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Maximum Response Length"}),t.jsx(c,{options:[{value:"Short (50 words)",label:"Short (50 words)"},{value:"Medium (150 words)",label:"Medium (150 words)"},{value:"Long (300 words)",label:"Long (300 words)"}],value:ie.maxResponseLength,onChange:e=>oe({...ie,maxResponseLength:e}),placeholder:"Select max length..."})]})]}),t.jsxs("div",{className:"common-bg-icons p-4 rounded-xl",children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-4",children:["Temperature (Creativity):"," ",t.jsxs("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:[ie.temperature,"%"]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400 min-w-[70px] text-left font-medium",children:"Conservative"}),t.jsxs("div",{className:"flex-1 relative",children:[t.jsx("div",{className:"h-2 bg-slate-200 dark:bg-slate-700 rounded-full",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full transition-all duration-300 ease-out",style:{width:`${ie.temperature}%`}})}),t.jsx("input",{type:"range",min:"0",max:"100",value:ie.temperature,onChange:e=>oe({...ie,temperature:parseInt(e.target.value)}),className:"absolute top-0 left-0 w-full h-2 opacity-0 cursor-pointer z-20 touch-manipulation",style:{background:"transparent",outline:"none"}}),t.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-5 h-5 bg-white dark:bg-slate-100 rounded-full shadow-lg border-2 border-blue-500 dark:border-blue-400 transition-all duration-300 ease-out pointer-events-none z-10 hover:scale-110",style:{left:`calc(${ie.temperature}% - 10px)`,transform:"translateY(-50%)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.1)"},children:t.jsx("div",{className:"absolute inset-1 bg-blue-500 dark:bg-blue-400 rounded-full"})})]}),t.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400 min-w-[50px] text-right font-medium",children:"Creative"})]}),t.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400 px-2",children:[t.jsx("span",{className:"font-medium",children:"0%"}),t.jsx("span",{className:"font-medium",children:"25%"}),t.jsx("span",{className:"font-medium",children:"50%"}),t.jsx("span",{className:"font-medium",children:"75%"}),t.jsx("span",{className:"font-medium",children:"100%"})]})]}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-3 leading-relaxed",children:"Lower values for more consistent responses, higher for more creative answers"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Context Window"}),t.jsx(c,{options:[{value:"Small (4K tokens)",label:"Small (4K tokens)"},{value:"Standard (8K tokens)",label:"Standard (8K tokens)"},{value:"Large (16K tokens)",label:"Large (16K tokens)"}],value:ie.contextWindow,onChange:e=>oe({...ie,contextWindow:e}),placeholder:"Select context window..."})]})]})]})})]}),t.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[t.jsx(d,{children:t.jsxs("div",{className:"p-4 sm:p-5 lg:p-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[t.jsx("div",{className:"w-8 h-8 common-bg-icons rounded-lg flex items-center justify-center",children:t.jsx(M,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),t.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-white",children:"Voice & Language"})]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Configure language and voice settings"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Language ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{value:ie.language,onChange:e=>oe({...ie,language:e.target.value}),className:"common-bg-icons w-full px-3 sm:px-4 py-3 rounded-xl text-slate-800 dark:text-white text-base sm:text-sm transition-all duration-200 touch-manipulation appearance-none bg-no-repeat bg-right",style:{backgroundImage:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e\")",backgroundPosition:"right 0.75rem center",backgroundSize:"1.25rem 1.25rem"},children:[t.jsx("option",{value:"",children:"Select language..."}),t.jsxs("optgroup",{label:"India",children:[t.jsx("option",{value:"Hindi",children:"Hindi"}),t.jsx("option",{value:"Punjabi",children:"Punjabi"}),t.jsx("option",{value:"Tamil",children:"Tamil"}),t.jsx("option",{value:"Telugu",children:"Telugu"}),t.jsx("option",{value:"Bengali",children:"Bengali"}),t.jsx("option",{value:"Marathi",children:"Marathi"}),t.jsx("option",{value:"Gujarati",children:"Gujarati"}),t.jsx("option",{value:"Kannada",children:"Kannada"}),t.jsx("option",{value:"Malayalam",children:"Malayalam"}),t.jsx("option",{value:"Odia",children:"Odia"}),t.jsx("option",{value:"Urdu",children:"Urdu"})]}),t.jsxs("optgroup",{label:"Middle East",children:[t.jsx("option",{value:"Arabic",children:"Arabic"}),t.jsx("option",{value:"Persian",children:"Persian"}),t.jsx("option",{value:"Hebrew",children:"Hebrew"}),t.jsx("option",{value:"Turkish",children:"Turkish"})]}),t.jsxs("optgroup",{label:"Europe",children:[t.jsx("option",{value:"English (UK)",children:"English (UK)"}),t.jsx("option",{value:"French",children:"French"}),t.jsx("option",{value:"German",children:"German"}),t.jsx("option",{value:"Spanish",children:"Spanish"}),t.jsx("option",{value:"Italian",children:"Italian"}),t.jsx("option",{value:"Dutch",children:"Dutch"})]}),t.jsxs("optgroup",{label:"Americas",children:[t.jsx("option",{value:"English (US)",children:"English (US)"}),t.jsx("option",{value:"Spanish (MX)",children:"Spanish (MX)"}),t.jsx("option",{value:"Portuguese (BR)",children:"Portuguese (BR)"}),t.jsx("option",{value:"French (CA)",children:"French (CA)"})]}),t.jsxs("optgroup",{label:"APAC",children:[t.jsx("option",{value:"Chinese (Mandarin)",children:"Chinese (Mandarin)"}),t.jsx("option",{value:"Japanese",children:"Japanese"}),t.jsx("option",{value:"Korean",children:"Korean"}),t.jsx("option",{value:"Thai",children:"Thai"}),t.jsx("option",{value:"Vietnamese",children:"Vietnamese"})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Voice ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{value:ie.voice,onChange:e=>oe({...ie,voice:e.target.value}),className:"common-bg-icons w-full px-3 sm:px-4 py-3 rounded-xl text-slate-800 dark:text-white text-base sm:text-sm transition-all duration-200 touch-manipulation appearance-none bg-no-repeat bg-right",style:{backgroundImage:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e\")",backgroundPosition:"right 0.75rem center",backgroundSize:"1.25rem 1.25rem"},children:[t.jsx("option",{value:"",children:"Select voice..."}),t.jsxs("optgroup",{label:"English",children:[t.jsx("option",{value:"Sarah - Professional",children:"Sarah - Professional"}),t.jsx("option",{value:"John - Friendly",children:"John - Friendly"}),t.jsx("option",{value:"Emma - Warm",children:"Emma - Warm"})]}),t.jsxs("optgroup",{label:"Hindi",children:[t.jsx("option",{value:"Arjun - Friendly",children:"Arjun - Friendly"}),t.jsx("option",{value:"Priya - Professional",children:"Priya - Professional"}),t.jsx("option",{value:"Raj - Confident",children:"Raj - Confident"})]})]})]})]})]})}),t.jsx(d,{children:t.jsxs("div",{className:"p-4 sm:p-5 lg:p-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[t.jsx("div",{className:"w-8 h-8 common-bg-icons rounded-lg flex items-center justify-center",children:t.jsx(h,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),t.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-white",children:"Guardrails Level"}),t.jsx(J,{content:"Guardrails control how strictly the agent follows guidelines and handles sensitive topics. Higher levels provide more restrictions but may limit flexibility.",children:t.jsx(F,{className:"w-4 h-4 text-slate-400 cursor-help"})})]}),t.jsx("div",{className:"space-y-2 sm:space-y-3",children:[{value:"Low",label:"Low",desc:"Minimal restrictions, maximum flexibility"},{value:"Medium",label:"Medium",desc:"Balanced approach with reasonable limits"},{value:"High",label:"High",desc:"Strict guidelines, maximum safety"}].map(e=>t.jsxs("button",{onClick:()=>oe({...ie,guardrailsLevel:e.value}),className:"w-full p-3 sm:p-4 text-left border-2 rounded-xl transition-all duration-200 active:scale-[0.98] touch-manipulation "+(ie.guardrailsLevel===e.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 shadow-sm":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-800/50"),children:[t.jsx("div",{className:"font-medium text-slate-800 dark:text-white text-sm sm:text-base",children:e.label}),t.jsx("div",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400 mt-1 leading-tight",children:e.desc})]},e.value))})]})}),t.jsx(d,{children:t.jsxs("div",{className:"p-4 sm:p-5 lg:p-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[t.jsx("div",{className:"w-8 h-8 common-bg-icons rounded-lg flex items-center justify-center",children:t.jsx(_,{className:"w-4 h-4 text-yellow-600 dark:text-yellow-400"})}),t.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-white",children:"Quick Tips"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx("span",{className:"text-blue-600 dark:text-blue-400 text-xs font-bold",children:"1"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-800 dark:text-white",children:"Choose a descriptive name"}),t.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 leading-relaxed",children:"Make it clear what your agent does"})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-6 h-6 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx("span",{className:"text-green-600 dark:text-green-400 text-xs font-bold",children:"2"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-800 dark:text-white",children:"Match persona to purpose"}),t.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 leading-relaxed",children:"Sales agents should be persuasive, support agents empathetic"})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-6 h-6 bg-purple-100 dark:bg-purple-900/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx("span",{className:"text-purple-600 dark:text-purple-400 text-xs font-bold",children:"3"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-800 dark:text-white",children:"Test before publishing"}),t.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 leading-relaxed",children:"Use training mode to validate responses"})]})]})]})]})})]})]})]})};export{at as default};
