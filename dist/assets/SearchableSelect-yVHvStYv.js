import{r as a,j as t}from"./index-C7Tdk3bR.js";import{C}from"./chevron-down-CfyZklSG.js";import{S as y}from"./search-vRU4rdcb.js";import{C as E}from"./check-BDJs0WCX.js";const T=({options:m,value:c,onChange:h,placeholder:w="Select option...",className:p="",groupBy:f=!1})=>{const[l,u]=a.useState(!1),[n,x]=a.useState(""),o=a.useRef(null),[L,v]=a.useState("bottom"),[g,O]=a.useState({}),b=m.filter(e=>e.label.toLowerCase().includes(n.toLowerCase())||e.value.toLowerCase().includes(n.toLowerCase())),k=f?b.reduce((e,r)=>{const s=r.group||"All";return e[s]||(e[s]=[]),e[s].push(r),e},{}):{"":b},d=m.find(e=>e.value===c),i=a.useCallback(()=>{if(o.current){const e=o.current.getBoundingClientRect(),r=window.innerHeight-e.bottom,s=300,N=r<s&&e.top>s?"top":"bottom";v(N)}},[]);a.useEffect(()=>{if(l){i();const e=()=>i(),r=()=>i();return window.addEventListener("scroll",e,!0),window.addEventListener("resize",r),()=>{window.removeEventListener("scroll",e,!0),window.removeEventListener("resize",r)}}},[l,i]),a.useEffect(()=>{const e=r=>{o.current&&!o.current.contains(r.target)&&(u(!1),x(""))};if(l)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[l]);const j=e=>{h(e),u(!1),x("")},S=()=>{u(!l)};return t.jsxs("div",{ref:o,className:`relative ${p}`,children:[t.jsxs("button",{onClick:S,className:"w-full flex items-center justify-between px-4 py-3 bg-white/50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 text-slate-800 dark:text-white",children:[t.jsx("span",{className:d?"":"text-slate-500 dark:text-slate-400",children:(d==null?void 0:d.label)||w}),t.jsx(C,{className:`w-4 h-4 text-slate-400 transition-transform flex-shrink-0 ml-2 ${l?"rotate-180":""}`})]}),l&&t.jsxs("div",{className:"absolute top-14 w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-xl max-h-80 overflow-y-auto z-[99999] no-scrollbar",style:g,children:[t.jsx("div",{className:"p-3 border-b border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"relative",children:[t.jsx(y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search...",value:n,onChange:e=>x(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 text-slate-800 dark:text-white"})]})}),t.jsxs("div",{className:"max-h-64 overflow-y-auto",children:[Object.entries(k).map(([e,r])=>t.jsxs("div",{children:[f&&e&&t.jsx("div",{className:"px-4 py-2 text-xs font-medium text-slate-600 dark:text-slate-400 bg-slate-50 dark:bg-slate-700/50 sticky top-0",children:e}),r.map(s=>t.jsxs("button",{onClick:()=>j(s.value),className:`w-full text-left px-4 py-2 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors flex items-center justify-between text-sm ${c===s.value?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"text-slate-700 dark:text-slate-300"}`,children:[t.jsx("span",{children:s.label}),c===s.value&&t.jsx(E,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})]},s.value))]},e)),b.length===0&&t.jsxs("div",{className:"p-6 text-center text-slate-500 dark:text-slate-400",children:['No options found matching "',n,'"']})]})]})]})};export{T as S};
